/*! For license information please see entry.js.LICENSE.txt */
(()=>{var e,t={168:(e,t,n)=>{Nova.booting((function(e,t){Nova.inertia("NovaMenu",n(921).A),e.component("menu-builder",n(996).A),e.component("form-menu-builder-field",n(267).A),e.component("detail-menu-builder-field",n(267).A)}))},375:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".menu-builder .v-popover,.menu-builder .v-popover>*>span{align-items:center;display:flex;justify-content:center}.justify-end{justify-content:flex-end}.opacity-25{opacity:.25}",""]);const i=o},683:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'[dusk=nova-menus-detail-component] #menu-builder-field{margin:-8px 0}#menu-builder-field .menu-button{margin-top:-72px;position:absolute;right:-12px}#menu-builder-field .nestable{position:relative}#menu-builder-field .nestable .nestable-list{list-style-type:none;margin:0;padding:0 0 0 40px}#menu-builder-field .nestable>.nestable-list{padding:0}#menu-builder-field .nestable .nestable-item,#menu-builder-field .nestable .nestable-item-copy{margin:10px 0 0}#menu-builder-field .nestable .nestable-item-copy:first-child,#menu-builder-field .nestable .nestable-item:first-child{margin-top:0}#menu-builder-field .nestable .nestable-item .nestable-list,#menu-builder-field .nestable .nestable-item-copy .nestable-list{margin-top:10px}#menu-builder-field .nestable .nestable-item{position:relative}#menu-builder-field .handle{height:45px;line-height:45px;padding:0 10px 0 0;width:100%}#menu-builder-field .nestable-item.is-dragging .nestable-list{pointer-events:none}#menu-builder-field .nestable-item.is-dragging *{filter:alpha(opacity=0);opacity:0}#menu-builder-field .nestable-item.is-dragging:before{background-color:rgba(106,127,233,.274);border:1px dashed #4964f1;border-radius:5px;bottom:0;content:" ";left:0;position:absolute;right:0;top:0}#menu-builder-field .nestable-drag-layer{left:0;pointer-events:none;position:fixed;top:0;z-index:100}#menu-builder-field .nestable-drag-layer>.nestable-list{background-color:rgba(106,127,233,.274);left:0;padding:0;position:absolute;top:0}#menu-builder-field .nestable [draggable=true]{cursor:move}#menu-builder-field .disabled{opacity:.5}#menu-builder-field .btn-cascade-open{transform:rotate(180deg);transform-origin:center center}#menu-builder-field .hide-cascade>ol{display:none}',""]);const i=o},377:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"#menu-builder-header{display:flex;max-width:80%;place-content:end;position:absolute;right:0;top:-46px}#menu-builder-header .locale-selection{align-items:center;display:flex}#menu-builder-header .locale-selection::-webkit-scrollbar{height:5px}#menu-builder-header .locale-selection::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:5px}div.relative.overflow-hidden:has(>#menu-builder-field){overflow:visible}",""]);const i=o},259:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'.add-new-menu-item-modal .menu-item-component div.py-6.px-8:first-child{padding:1rem 2rem 1rem 0}.add-new-menu-item-modal .menu-item-component div.py-6.px-8:nth-child(2){padding:1rem 0;width:80%}.o1-menu-builder-multiselect-wrapper .multiselect{background:none;border:none;border-radius:0;min-height:36px}.o1-menu-builder-multiselect-wrapper .multiselect__tags{--tw-border-opacity:1;background-color:#fff;border-color:#cbd5e1;border-radius:4px;border-width:1px;color:#475569;min-height:36px;overflow:hidden;padding:6px 56px 0 6px}.dark .o1-menu-builder-multiselect-wrapper .multiselect__tags{background-color:#0f172a;border-color:#334155;color:#94a3b8}.o1-menu-builder-multiselect-wrapper .multiselect__input{background-color:#fff;border:none;border-color:rgba(var(--colors-gray-100),var(--tw-border-opacity));color:rgba(var(--colors-gray-400));font-size:14px;line-height:14px;padding-left:8px}.dark .o1-menu-builder-multiselect-wrapper .multiselect__input{background-color:#0f172a;color:#94a3b8}.o1-menu-builder-multiselect-wrapper .multiselect__tag{background-color:rgba(var(--colors-primary-500));color:#fff;font-weight:600;margin:1px 8px 1px 0;padding:4px 24px 4px 8px}.o1-menu-builder-multiselect-wrapper .multiselect__tag .multiselect__tag-icon:after{color:#fff}.o1-menu-builder-multiselect-wrapper .multiselect__tag .multiselect__tag-icon:hover{background:rgba(var(--colors-primary-500))}.o1-menu-builder-multiselect-wrapper .multiselect__tag .multiselect__tag-icon:hover:after{color:#ef4444}.o1-menu-builder-multiselect-wrapper .multiselect>.multiselect__clear:after,.o1-menu-builder-multiselect-wrapper .multiselect>.multiselect__clear:before{background:rgba(var(--colors-gray-400));width:2px}.o1-menu-builder-multiselect-wrapper .multiselect>.multiselect__clear:hover:after,.o1-menu-builder-multiselect-wrapper .multiselect>.multiselect__clear:hover:before{background:rgba(var(--colors-red-400))}.o1-menu-builder-multiselect-wrapper .multiselect__single{background-color:#fff;color:#475569;font-size:14px;font-weight:700;line-height:18px;min-height:18px;padding-left:8px;padding-top:2px}.dark .o1-menu-builder-multiselect-wrapper .multiselect__single{background-color:#0f172a;color:rgba(var(--colors-gray-400))}.o1-menu-builder-multiselect-wrapper .multiselect__spinner{background-color:#fff;color:#475569}.dark .o1-menu-builder-multiselect-wrapper .multiselect__spinner{background-color:#0f172a;color:#94a3b8}.o1-menu-builder-multiselect-wrapper .multiselect__spinner:after,.o1-menu-builder-multiselect-wrapper .multiselect__spinner:before{border-color:rgba(var(--colors-primary-500)) transparent transparent}.o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper{border-color:#cbd5e1;transition:none}.o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper .multiselect__content{overflow:hidden;width:100%}.dark .o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper{background-color:#0f172a;border-color:#334155}.o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper li>span.multiselect__option{background-color:#fff;color:#94a3b8;font-size:14px;line-height:14px;min-height:32px}.dark .o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper li>span.multiselect__option{background-color:#0f172a}.o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper .multiselect__element{background-color:#fff;color:#475569}.dark .o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper .multiselect__element{background-color:#0f172a;color:#94a3b8}.o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper .multiselect__element .multiselect__option{color:#475569;font-size:14px;line-height:14px;min-height:32px;padding:8px 12px}.dark .o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper .multiselect__element .multiselect__option{color:#94a3b8}.o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper .multiselect__element .multiselect__option.multiselect__option--selected{background-color:#fff;color:rgba(var(--colors-primary-500))}.dark .o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper .multiselect__element .multiselect__option.multiselect__option--selected{background-color:#0f172a}.o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper .multiselect__element .multiselect__option.multiselect__option--highlight{background-color:rgba(var(--colors-primary-500));color:#fff}.o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper .multiselect__element .multiselect__option.multiselect__option--highlight:after{background-color:rgba(var(--colors-primary-500));font-weight:600}.dark .o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper .multiselect__element .multiselect__option.multiselect__option--highlight.multiselect__option--selected,.o1-menu-builder-multiselect-wrapper .multiselect__content-wrapper .multiselect__element .multiselect__option.multiselect__option--highlight.multiselect__option--selected{background-color:#f87171}.o1-menu-builder-multiselect-wrapper .reorder__tag{background-color:rgba(var(--colors-primary-500));border-radius:5px;font-weight:600;margin-bottom:5px;overflow:hidden;text-overflow:ellipsis;transition:all .2s ease-in-out;white-space:nowrap}.o1-menu-builder-multiselect-wrapper .reorder__tag:hover{cursor:pointer;opacity:.8}.o1-menu-builder-multiselect-wrapper .multiselect__select{height:36px}.o1-menu-builder-multiselect-wrapper .multiselect__placeholder{color:#475569;cursor:default;line-height:16px;margin-bottom:8px;min-height:16px;padding-left:8px;padding-top:0}.dark .o1-menu-builder-multiselect-wrapper .multiselect__placeholder{color:#64748b}.o1-menu-builder-multiselect-wrapper .multiselect__clear{cursor:pointer;display:block;height:20px;position:absolute;right:36px;top:8px;width:20px;z-index:2}.o1-menu-builder-multiselect-wrapper .multiselect__clear:after,.o1-menu-builder-multiselect-wrapper .multiselect__clear:before{background:#aaa;bottom:0;content:"";display:block;height:16px;left:0;margin:auto;position:absolute;right:0;top:0;width:3px}.o1-menu-builder-multiselect-wrapper .multiselect__clear:before{transform:rotate(45deg)}.o1-menu-builder-multiselect-wrapper .multiselect__clear:after{transform:rotate(-45deg)}',""]);const i=o},929:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(314),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,'fieldset[disabled] .multiselect{pointer-events:none}.multiselect__spinner{background:#fff;display:block;height:38px;position:absolute;right:1px;top:1px;width:40px}.multiselect__spinner:after,.multiselect__spinner:before{border:2px solid transparent;border-radius:100%;border-top-color:#41b883;box-shadow:0 0 0 1px transparent;content:"";height:16px;left:50%;margin:-8px 0 0 -8px;position:absolute;top:50%;width:16px}.multiselect__spinner:before{animation:spinning 2.4s cubic-bezier(.41,.26,.2,.62);animation-iteration-count:infinite}.multiselect__spinner:after{animation:spinning 2.4s cubic-bezier(.51,.09,.21,.8);animation-iteration-count:infinite}.multiselect__loading-enter-active,.multiselect__loading-leave-active{opacity:1;transition:opacity .4s ease-in-out}.multiselect__loading-enter,.multiselect__loading-leave-active{opacity:0}.multiselect,.multiselect__input,.multiselect__single{font-family:inherit;font-size:16px;touch-action:manipulation}.multiselect{box-sizing:content-box;color:#35495e;display:block;min-height:40px;position:relative;text-align:left;width:100%}.multiselect *{box-sizing:border-box}.multiselect:focus{outline:none}.multiselect--disabled{background:#ededed;opacity:.6;pointer-events:none}.multiselect--active{z-index:50}.multiselect--active:not(.multiselect--above) .multiselect__current,.multiselect--active:not(.multiselect--above) .multiselect__input,.multiselect--active:not(.multiselect--above) .multiselect__tags{border-bottom-left-radius:0;border-bottom-right-radius:0}.multiselect--active .multiselect__select{transform:rotate(180deg)}.multiselect--above.multiselect--active .multiselect__current,.multiselect--above.multiselect--active .multiselect__input,.multiselect--above.multiselect--active .multiselect__tags{border-top-left-radius:0;border-top-right-radius:0}.multiselect__input,.multiselect__single{background:#fff;border:none;border-radius:5px;box-sizing:border-box;display:inline-block;line-height:20px;margin-bottom:8px;min-height:20px;padding:0 0 0 5px;position:relative;transition:border .1s ease;vertical-align:top;width:100%}.multiselect__input::-moz-placeholder{color:#35495e}.multiselect__input::placeholder{color:#35495e}.multiselect__tag~.multiselect__input,.multiselect__tag~.multiselect__single{width:auto}.multiselect__input:hover,.multiselect__single:hover{border-color:#cfcfcf}.multiselect__input:focus,.multiselect__single:focus{border-color:#a8a8a8;outline:none}.multiselect__single{margin-bottom:8px;padding-left:5px}.multiselect__tags-wrap{display:inline}.multiselect__tags{background:#fff;border:1px solid #e8e8e8;border-radius:5px;display:block;font-size:14px;min-height:40px;padding:8px 40px 0 8px}.multiselect__tag{background:#41b883;border-radius:5px;color:#fff;display:inline-block;line-height:1;margin-bottom:5px;margin-right:10px;max-width:100%;overflow:hidden;padding:4px 26px 4px 10px;position:relative;text-overflow:ellipsis;white-space:nowrap}.multiselect__tag-icon{border-radius:5px;bottom:0;cursor:pointer;font-style:normal;font-weight:700;line-height:22px;margin-left:7px;position:absolute;right:0;text-align:center;top:0;transition:all .2s ease;width:22px}.multiselect__tag-icon:after{color:#266d4d;content:"×";font-size:14px}.multiselect__tag-icon:focus,.multiselect__tag-icon:hover{background:#369a6e}.multiselect__tag-icon:focus:after,.multiselect__tag-icon:hover:after{color:#fff}.multiselect__current{border:1px solid #e8e8e8;border-radius:5px;min-height:40px;overflow:hidden;padding:8px 30px 0 12px;white-space:nowrap}.multiselect__current,.multiselect__select{box-sizing:border-box;cursor:pointer;display:block;line-height:16px;margin:0;text-decoration:none}.multiselect__select{height:38px;padding:4px 8px;position:absolute;right:1px;text-align:center;top:1px;transition:transform .2s ease;width:40px}.multiselect__select:before{border-color:#999 transparent transparent;border-style:solid;border-width:5px 5px 0;color:#999;content:"";margin-top:4px;position:relative;right:0;top:65%}.multiselect__placeholder{color:#adadad;display:inline-block;margin-bottom:10px;padding-top:2px}.multiselect--active .multiselect__placeholder{display:none}.multiselect__content-wrapper{-webkit-overflow-scrolling:touch;background:#fff;border:1px solid #e8e8e8;border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-top:none;display:block;max-height:240px;overflow:auto;position:absolute;width:100%;z-index:50}.multiselect__content{display:inline-block;list-style:none;margin:0;min-width:100%;padding:0;vertical-align:top}.multiselect--above .multiselect__content-wrapper{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0;border-top:1px solid #e8e8e8;border-top-left-radius:5px;border-top-right-radius:5px;bottom:100%}.multiselect__content::webkit-scrollbar{display:none}.multiselect__element{display:block}.multiselect__option{cursor:pointer;display:block;line-height:16px;min-height:40px;padding:12px;position:relative;text-decoration:none;text-transform:none;vertical-align:middle;white-space:nowrap}.multiselect__option:after{font-size:13px;line-height:40px;padding-left:20px;padding-right:12px;position:absolute;right:0;top:0}.multiselect__option--highlight{background:#41b883;color:#fff;outline:none}.multiselect__option--highlight:after{background:#41b883;color:#fff;content:attr(data-select)}.multiselect__option--selected{background:#f3f3f3;color:#35495e;font-weight:700}.multiselect__option--selected:after{background:inherit;color:silver;content:attr(data-selected)}.multiselect__option--selected.multiselect__option--highlight{background:#ff6a6a;color:#fff}.multiselect__option--selected.multiselect__option--highlight:after{background:#ff6a6a;color:#fff;content:attr(data-deselect)}.multiselect--disabled .multiselect__current,.multiselect--disabled .multiselect__select{background:#ededed;color:#a6a6a6}.multiselect__option--disabled{background:#ededed!important;color:#a6a6a6!important;cursor:text;pointer-events:none}.multiselect__option--group{background:#ededed;color:#35495e}.multiselect__option--group.multiselect__option--highlight{background:#35495e;color:#fff}.multiselect__option--group.multiselect__option--highlight:after{background:#35495e}.multiselect__option--disabled.multiselect__option--highlight{background:#dedede}.multiselect__option--group-selected.multiselect__option--highlight{background:#ff6a6a;color:#fff}.multiselect__option--group-selected.multiselect__option--highlight:after{background:#ff6a6a;color:#fff;content:attr(data-deselect)}.multiselect-enter-active,.multiselect-leave-active{transition:all .15s ease}.multiselect-enter,.multiselect-leave-active{opacity:0}.multiselect__strong{display:inline-block;line-height:20px;margin-bottom:8px;vertical-align:top}[dir=rtl] .multiselect{text-align:right}[dir=rtl] .multiselect__select{left:1px;right:auto}[dir=rtl] .multiselect__tags{padding:8px 8px 0 40px}[dir=rtl] .multiselect__content{text-align:right}[dir=rtl] .multiselect__option:after{left:0;right:auto}[dir=rtl] .multiselect__clear{left:12px;right:auto}[dir=rtl] .multiselect__spinner{left:1px;right:auto}@keyframes spinning{0%{transform:rotate(0)}to{transform:rotate(2turn)}}',""]);const i=o},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(o[l]=!0)}for(var s=0;s<e.length;s++){var a=[].concat(e[s]);r&&o[a[0]]||(n&&(a[2]?a[2]="".concat(n," and ").concat(a[2]):a[2]=n),t.push(a))}},t}},497:()=>{},606:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,a=[],u=!1,c=-1;function d(){u&&s&&(u=!1,s.length?a=s.concat(a):c=-1,a.length&&p())}function p(){if(!u){var e=l(d);u=!0;for(var t=a.length;t;){for(s=a,a=[];++c<t;)s&&s[c].run();c=-1,t=a.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new h(e,t)),1!==a.length||u||l(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},72:(e,t,n)=>{"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),l=[];function s(e){for(var t=-1,n=0;n<l.length;n++)if(l[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],u=n[a]||0,c="".concat(a," ").concat(u);n[a]=u+1;var d=s(c),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(l[d].references++,l[d].updater(p)):l.push({identifier:c,updater:v(p,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var l=i(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function p(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var i=document.createTextNode(o),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(i,l[t]):e.appendChild(i)}}function h(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var m=null,f=0;function v(e,t){var n,r,o;if(t.singleton){var i=f++;n=m||(m=u(t)),r=p.bind(null,n,i,!1),o=p.bind(null,n,i,!0)}else n=u(t),r=h.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=s(n[r]);l[o].references--}for(var i=a(e,t),u=0;u<n.length;u++){var c=s(n[u]);0===l[c].references&&(l[c].updater(),l.splice(c,1))}n=i}}}},262:(e,t)=>{"use strict";t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,r]of t)n[e]=r;return n}},996:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(61),o=["onClick"],i={class:"buttons o1-gap-x-2 md:o1-w-1/3 o1-flex o1-justify-end o1-content-center"},l=["title","onClick"],s=["title","onClick"],a=["title","onClick"];var u=n(30);const c={props:{value:{type:Array,required:!0},maxDepth:{type:Number,required:!1,default:10}},components:{VueNestable:u.VueNestable,VueNestableHandle:u.VueNestableHandle},data:function(){return{duplicateItem:null}},methods:{hasChildren:function(e){return Array.isArray(e.children)&&e.children.length},toggleMenuChildrenCascade:function(e){e.classProp.find((function(e){return"hide-cascade"===e}))?e.classProp.splice(e.classProp.indexOf("hide-cascade"),1):e.classProp.push("hide-cascade"),this.$emit("saveMenuLocalState",e)},isCascadeOpen:function(e){return!e.classProp.find((function(e){return"hide-cascade"===e}))},beforeMove:function(e){var t=e.dragItem,n=(e.pathFrom,e.pathTo);return!!t.nestable||1===n.length}}};var d=n(72),p=n.n(d),h=n(375),m={insert:"head",singleton:!1};p()(h.A,m);h.A.locals;const f=(0,n(262).A)(c,[["render",function(e,t,n,u,c,d){var p=(0,r.resolveComponent)("Icon"),h=(0,r.resolveComponent)("vue-nestable-handle"),m=(0,r.resolveComponent)("vue-nestable");return(0,r.openBlock)(),(0,r.createBlock)(m,{value:n.value,"max-depth":n.maxDepth,onInput:t[0]||(t[0]=function(t){return e.$emit("input",t)}),onChange:t[1]||(t[1]=function(t){return e.$emit("onMenuChange")}),hooks:{beforeMove:d.beforeMove},class:"px-3",classProp:"classProp"},{default:(0,r.withCtx)((function(t){var n=t.item;return[(0,r.createVNode)(h,{class:"handle dark:o1-bg-gray-800 o1-flex io1-tems-center o1-justify-between o1-border o1-rounded-lg o1-outline-none o1-border-b o1-border-gray-200 dark:o1-border-gray-600"},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["item-data o1-items-center o1-flex o1-shrink o1-min-w-0",{"o1-px-3":!d.hasChildren(n)}])},[d.hasChildren(n)?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,onClick:(0,r.withModifiers)((function(e){return d.toggleMenuChildrenCascade(n)}),["prevent"]),class:"o1-appearance-none o1-cursor-pointer o1-fill-current hover:o1-text-primary o1-flex o1-px-3 o1-items-center focus:o1-outline-none"},[(0,r.createVNode)(p,{type:d.isCascadeOpen(n)?"chevron-down":"chevron-up"},null,8,["type"])],8,o)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["o1-text-90 o1-font-bold o1-whitespace-nowrap o1-overflow-hidden o1-text-ellipsis",{"opacity-25":!n.enabled}])},(0,r.toDisplayString)(n.name),3),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["o1-font-lighter o1-text-80 o1-ml-4 o1-text-sm o1-whitespace-nowrap o1-text-ellipsis o1-overflow-hidden",{"o1-opacity-25":!n.enabled}])},(0,r.toDisplayString)(n.displayValue),3)],2),(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("button",{title:e.__("novaMenuBuilder.edit"),onClick:(0,r.withModifiers)((function(t){return e.$emit("editMenu",n)}),["prevent"]),class:"text-gray-500 dark:text-gray-400 hover:[&:not(:disabled)]:text-primary-500 dark:hover:[&:not(:disabled)]:text-primary-500"},[(0,r.createVNode)(p,{type:"pencil-alt"})],8,l),(0,r.createElementVNode)("button",{title:e.__("novaMenuBuilder.duplicate"),onClick:(0,r.withModifiers)((function(t){return e.$emit("duplicateMenuItem",n)}),["prevent"]),class:"text-gray-500 dark:text-gray-400 hover:[&:not(:disabled)]:text-primary-500 dark:hover:[&:not(:disabled)]:text-primary-500"},[(0,r.createVNode)(p,{type:"duplicate"})],8,s),(0,r.createElementVNode)("button",{title:e.__("novaMenuBuilder.delete"),onClick:(0,r.withModifiers)((function(t){return e.$emit("removeMenu",n)}),["prevent"]),class:"text-gray-500 dark:text-gray-400 hover:[&:not(:disabled)]:text-primary-500 dark:hover:[&:not(:disabled)]:text-primary-500"},[(0,r.createVNode)(p,{type:"trash"})],8,a)])]})),_:2},1024)]})),_:1},8,["value","max-depth","hooks"])}]])},267:(e,t,n)=>{"use strict";n.d(t,{A:()=>kt});var r=n(61),o={id:"menu-builder-field",class:"relative py-3 o1-w-full"},i={key:0,class:"py-6"};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(){var e=h(),t=e.m(s),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var o={throw:1,return:2,break:3,continue:3};function i(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,o[e],t)},delegateYield:function(e,o,i){return t.resultName=o,n(r.d,a(e),i)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(s=function(){return{wrap:function(t,n,r,o){return e.w(i(t),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new f(e,t)},AsyncIterator:p,async:function(e,t,n,o,l){return(r(t)?d:c)(i(e),t,n,o,l)},keys:u,values:a}})()}function a(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(l(e)+" is not iterable")}function u(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function c(e,t,n,r,o){var i=d(e,t,n,r,o);return i.next().then((function(e){return e.done?e.value:i.next()}))}function d(e,t,n,r,o){return new p(h().w(e,t,n,r),o||Promise)}function p(e,t){function n(r,o,i,l){try{var s=e[r](o),a=s.value;return a instanceof f?t.resolve(a.v).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(a).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}catch(e){l(e)}}var r;this.next||(m(p.prototype),m(p.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),m(this,"_invoke",(function(e,o,i){function l(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(l,l):l()}),!0)}function h(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=r&&r.prototype instanceof s?r:s,u=Object.create(a.prototype);return m(u,"_invoke",function(n,r,o){var i,s,a,u=0,c=o||[],d=!1,p={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,s=0,a=e,p.n=n,l}};function h(n,r){for(s=n,a=r,t=0;!d&&u&&!o&&t<c.length;t++){var o,i=c[t],h=p.p,m=i[2];n>3?(o=m===r)&&(a=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=n<2&&h<i[1])?(s=0,p.v=r,p.n=i[1]):h<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,p.n=m,s=0))}if(o||n>1)return l;throw d=!0,r}return function(o,c,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&h(c,m),s=c,a=m;(t=s<2?e:a)||!d;){i||(s?s<3?(s>1&&(p.n=-1),h(s,a)):p.n=a:p.v=a);try{if(u=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?a:n.call(r,p))!==l)break}catch(t){i=e,s=1,a=t}finally{u=1}}return{value:t,done:d}}}(n,o,i),!0),u}var l={};function s(){}function a(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(m(t={},r,(function(){return this})),t),d=u.prototype=s.prototype=Object.create(c);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,m(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return a.prototype=u,m(d,"constructor",u),m(u,"constructor",a),a.displayName="GeneratorFunction",m(u,o,"GeneratorFunction"),m(d),m(d,o,"Generator"),m(d,r,(function(){return this})),m(d,"toString",(function(){return"[object Generator]"})),(h=function(){return{w:i,m:p}})()}function m(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}m=function(e,t,n,r){function i(t,n){m(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},m(e,t,n,r)}function f(e,t){this.v=e,this.k=t}function v(e,t,n,r,o,i,l){try{var s=e[i](l),a=s.value}catch(e){return void n(e)}s.done?t(a):Promise.resolve(a).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){v(i,r,o,l,s,"next",e)}function s(e){v(i,r,o,l,s,"throw",e)}l(void 0)}))}}const b=function(e){return g(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Nova.request().get("/nova-vendor/nova-menu/menus",{params:e}));case 1:case"end":return t.stop()}}),t)})))()},y=function(e,t){return g(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Nova.request().get("/nova-vendor/nova-menu/menu/".concat(e),{params:{locale:t}}));case 1:case"end":return n.stop()}}),n)})))()},w=function(e,t,n,r){return g(s().mark((function o(){return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Nova.request().post("/nova-vendor/nova-menu/menus/copy",{fromMenuId:e,fromLocale:t,toMenuId:n,toLocale:r}));case 1:case"end":return o.stop()}}),o)})))()},_=function(e,t){return g(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Nova.request().post("/nova-vendor/nova-menu/menu/".concat(e),{menuItems:t}));case 1:case"end":return n.stop()}}),n)})))()},x=function(e){return g(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Nova.request().post("/nova-vendor/nova-menu/items",e));case 1:case"end":return t.stop()}}),t)})))()},k=function(e){return g(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Nova.request().get("/nova-vendor/nova-menu/items/".concat(e)));case 1:case"end":return t.stop()}}),t)})))()},M=function(e,t){return g(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Nova.request().post("/nova-vendor/nova-menu/items/".concat(e),t));case 1:case"end":return n.stop()}}),n)})))()},O=function(e){return g(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Nova.request().delete("/nova-vendor/nova-menu/items/".concat(e)));case 1:case"end":return t.stop()}}),t)})))()},S=function(e){return g(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Nova.request().post("/nova-vendor/nova-menu/items/".concat(e,"/duplicate")));case 1:case"end":return t.stop()}}),t)})))()},C=function(e,t){return g(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Nova.request().get("/nova-vendor/nova-menu/menu-item-types/".concat(e),{params:{locale:t}}));case 1:case"end":return n.stop()}}),n)})))()},I=LaravelNova;var N={id:"menu-builder-header"},B={key:0,class:"locale-selection px-4 py-1.5 mr-4 bg-white dark:bg-gray-800 rounded-lg overflow-x-auto w-full"},E=["onClick"],P=["innerHTML"];var L={class:"ml-auto"};const V=LaravelNovaUi;function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function T(){var e=H(),t=e.m(T),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var o={throw:1,return:2,break:3,continue:3};function i(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,o[e],t)},delegateYield:function(e,o,i){return t.resultName=o,n(r.d,$(e),i)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(T=function(){return{wrap:function(t,n,r,o){return e.w(i(t),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new q(e,t)},AsyncIterator:z,async:function(e,t,n,o,l){return(r(t)?F:A)(i(e),t,n,o,l)},keys:j,values:$}})()}function $(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(D(e)+" is not iterable")}function j(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function A(e,t,n,r,o){var i=F(e,t,n,r,o);return i.next().then((function(e){return e.done?e.value:i.next()}))}function F(e,t,n,r,o){return new z(H().w(e,t,n,r),o||Promise)}function z(e,t){function n(r,o,i,l){try{var s=e[r](o),a=s.value;return a instanceof q?t.resolve(a.v).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(a).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}catch(e){l(e)}}var r;this.next||(G(z.prototype),G(z.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),G(this,"_invoke",(function(e,o,i){function l(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(l,l):l()}),!0)}function H(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=r&&r.prototype instanceof s?r:s,u=Object.create(a.prototype);return G(u,"_invoke",function(n,r,o){var i,s,a,u=0,c=o||[],d=!1,p={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,s=0,a=e,p.n=n,l}};function h(n,r){for(s=n,a=r,t=0;!d&&u&&!o&&t<c.length;t++){var o,i=c[t],h=p.p,m=i[2];n>3?(o=m===r)&&(a=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=n<2&&h<i[1])?(s=0,p.v=r,p.n=i[1]):h<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,p.n=m,s=0))}if(o||n>1)return l;throw d=!0,r}return function(o,c,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&h(c,m),s=c,a=m;(t=s<2?e:a)||!d;){i||(s?s<3?(s>1&&(p.n=-1),h(s,a)):p.n=a:p.v=a);try{if(u=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?a:n.call(r,p))!==l)break}catch(t){i=e,s=1,a=t}finally{u=1}}return{value:t,done:d}}}(n,o,i),!0),u}var l={};function s(){}function a(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(G(t={},r,(function(){return this})),t),d=u.prototype=s.prototype=Object.create(c);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,G(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return a.prototype=u,G(d,"constructor",u),G(u,"constructor",a),a.displayName="GeneratorFunction",G(u,o,"GeneratorFunction"),G(d),G(d,o,"Generator"),G(d,r,(function(){return this})),G(d,"toString",(function(){return"[object Generator]"})),(H=function(){return{w:i,m:p}})()}function G(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}G=function(e,t,n,r){function i(t,n){G(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},G(e,t,n,r)}function q(e,t){this.v=e,this.k=t}function R(e,t,n,r,o,i,l){try{var s=e[i](l),a=s.value}catch(e){return void n(e)}s.done?t(a):Promise.resolve(a).then(r,o)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){R(i,r,o,l,s,"next",e)}function s(e){R(i,r,o,l,s,"throw",e)}l(void 0)}))}}const U={props:["showModal","activeLocale","locales","resourceName","resourceId","menuCount"],data:function(){return{isCopying:!1,menuOptions:[],selectedMenu:void 0,selectedLocale:void 0,localeOptions:[]}},components:{Button:V.Button},mounted:function(){var e=this;return K(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLocaleDataBasedOnActiveLocale(),t.next=3,e.fetchMenuOptions();case 3:case"end":return t.stop()}}),t)})))()},watch:{activeLocale:function(){this.setLocaleDataBasedOnActiveLocale()},resourceId:function(){this.setLocaleDataBasedOnActiveLocale()},selectedMenu:function(){this.setLocaleDataBasedOnActiveLocale()}},methods:{fetchMenuOptions:function(){var e=this;return K(T().mark((function t(){var n;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b({notEmpty:!0});case 2:n=t.sent.data,e.hasMultipleLocales?e.selectedMenu=String(e.resourceId):n=n.filter((function(t){return String(t.id)!==String(e.resourceId)})),e.menuOptions=n,e.selectedMenu=n[0]?n[0].id:void 0;case 6:case"end":return t.stop()}}),t)})))()},copyMenuItemsFromMenu:function(){var e=this;return K(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedMenu&&e.selectedLocale){t.next=2;break}return t.abrupt("return");case 2:return e.isCopying=!0,t.prev=3,t.next=6,w(e.selectedMenu,e.selectedLocale,e.resourceId,e.activeLocale);case 6:e.$emit("refreshItems"),e.$emit("closeModal"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.error("Copy failed:",t.t0);case 13:e.isCopying=!1;case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()},setLocaleDataBasedOnActiveLocale:function(){var e=this,t=Object.keys(this.locales).map((function(t){return{id:t,name:e.locales[t]}}));this.selectedMenu&&String(this.resourceId)===String(this.selectedMenu)&&(t=t.filter((function(t){return t.id!==e.activeLocale}))),this.localeOptions=t,this.selectedLocale=t[0].id}},computed:{hasMultipleLocales:function(){return Object.keys(this.locales).length>1},hasMultipleMenus:function(){return this.menuCount>1}}};var W=n(262);const Y={components:{CopyMenuItemsModal:(0,W.A)(U,[["render",function(e,t,n,o,i,l){var s=(0,r.resolveComponent)("ModalHeader"),a=(0,r.resolveComponent)("SelectControl"),u=(0,r.resolveComponent)("DefaultField"),c=(0,r.resolveComponent)("CancelButton"),d=(0,r.resolveComponent)("Button"),p=(0,r.resolveComponent)("ModalFooter"),h=(0,r.resolveComponent)("Modal");return(0,r.openBlock)(),(0,r.createBlock)(h,{show:n.showModal,class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(s,{textContent:(0,r.toDisplayString)(e.__("novaMenuBuilder.copyMenuItemsFromTitle"))},null,8,["textContent"]),(0,r.createElementVNode)("form",{onSubmit:t[2]||(t[2]=(0,r.withModifiers)((function(){return e.copyMenuItems&&e.copyMenuItems.apply(e,arguments)}),["prevent"])),autocomplete:"off"},[(0,r.createVNode)(u,{field:{fullWidth:!0,stacked:!0,withLabel:!0,visible:!0,name:e.__("novaMenuBuilder.menuResourceSingularLabel")}},{field:(0,r.withCtx)((function(){return[l.hasMultipleMenus?((0,r.openBlock)(),(0,r.createBlock)(a,{key:0,options:e.menuOptions.map((function(e){return{value:e.id,label:e.name}})),placeholder:e.__("novaMenuBuilder.menuResourceSingularLabel"),selected:e.selectedMenu,"onUpdate:selected":t[0]||(t[0]=function(t){return e.selectedMenu=t})},null,8,["options","placeholder","selected"])):(0,r.createCommentVNode)("",!0)]})),_:1},8,["field"]),(0,r.createVNode)(u,{field:{fullWidth:!0,stacked:!0,withLabel:!0,visible:!0,name:e.__("novaMenuBuilder.locale")}},{field:(0,r.withCtx)((function(){return[(0,r.createVNode)(a,{options:e.localeOptions.map((function(e){return{value:e.id,label:e.name}})),placeholder:e.__("novaMenuBuilder.locale"),selected:e.selectedLocale,"onUpdate:selected":t[1]||(t[1]=function(t){return e.selectedLocale=t})},null,8,["options","placeholder","selected"])]})),_:1},8,["field"])],32),(0,r.createVNode)(p,{class:"flex justify-end"},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("div",L,[(0,r.createVNode)(c,{component:"button",type:"button",dusk:"cancel-action-button",onClick:t[3]||(t[3]=(0,r.withModifiers)((function(t){return e.$emit("closeModal")}),["prevent"])),class:"mr-3"}),(0,r.createVNode)(d,{type:"button",dusk:"confirm-action-button",state:"default",variant:"solid",disabled:e.isCopying,loading:e.isCopying,label:e.__("novaMenuBuilder.copyMenuItemsButtonTitle"),onClick:(0,r.withModifiers)(l.copyMenuItemsFromMenu,["prevent"])},null,8,["disabled","loading","label","onClick"])])]})),_:1})]})),_:1},8,["show"])}]]),Button:V.Button},props:["locales","activeLocale","resourceId","menuCount","showDuplicate"],data:function(){return{showCopyModal:!1}},computed:{showCopyButton:function(){return Object.keys(this.locales).length>1||this.menuCount>1}},methods:{getLocaleDisplay:function(e){var t=Nova.config("customLocaleDisplay");return t&&t[e]?t[e]:"".concat(this.locales[e]," (").concat(e,")")}}};var X=n(72),J=n.n(X),Q=n(377),Z={insert:"head",singleton:!1};J()(Q.A,Z);Q.A.locals;const ee=(0,W.A)(Y,[["render",function(e,t,n,o,i,l){var s=(0,r.resolveComponent)("Button"),a=(0,r.resolveComponent)("copy-menu-items-modal");return(0,r.openBlock)(),(0,r.createElementBlock)("div",N,[Object.keys(n.locales).length>1?((0,r.openBlock)(),(0,r.createElementBlock)("div",B,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(Object.keys(n.locales),(function(t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,onClick:(0,r.withModifiers)((function(n){return e.$emit("changeLocale",t)}),["prevent"]),class:(0,r.normalizeClass)(["cursor-pointer font-bold px-2 h-full flex items-center box-border whitespace-nowrap",{"text-primary-500 border-primary-500":n.activeLocale===t,"text-80 border-transparent":n.activeLocale!==t}]),style:{"border-bottom-width":"2px"}},[(0,r.createElementVNode)("span",{innerHTML:l.getLocaleDisplay(t)},null,8,P)],10,E)})),128))])):(0,r.createCommentVNode)("",!0),l.showCopyButton&&n.showDuplicate?((0,r.openBlock)(),(0,r.createBlock)(s,{key:1,class:"mr-4",variant:"outline",state:"default",icon:"duplicate",onClick:t[0]||(t[0]=(0,r.withModifiers)((function(t){return e.showCopyModal=!0}),["prevent"]))})):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(s,{title:e.__("novaMenuBuilder.addMenuItem"),class:"mr-2 flex-no-shrink whitespace-nowrap",variant:"solid",state:"default",label:e.__("novaMenuBuilder.addMenuItem"),onClick:t[1]||(t[1]=(0,r.withModifiers)((function(t){return e.$emit("addMenuItem")}),["prevent"]))},null,8,["title","label"]),(0,r.createVNode)(a,{resourceId:n.resourceId,activeLocale:n.activeLocale,locales:n.locales,showModal:e.showCopyModal,menuCount:n.menuCount,onCloseModal:t[2]||(t[2]=function(t){return e.showCopyModal=!1}),onRefreshItems:t[3]||(t[3]=function(t){return e.$emit("refreshItems")})},null,8,["resourceId","activeLocale","locales","showModal","menuCount"])])}]]);function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==te(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie={class:"ml-1"},le={class:"ml-1"},se={class:"o1-pt-2 o1-pb-6"},ae=["placeholder"],ue={value:"",disabled:""},ce=["value"],de=["placeholder"],pe={class:"ml-auto"};const he=["tabindex","aria-owns"],me={ref:"tags",class:"multiselect__tags"},fe={class:"multiselect__tags-wrap"},ve=["textContent"],ge=["onKeypress","onMousedown"],be=["textContent"],ye={class:"multiselect__spinner"},we=["name","id","placeholder","value","disabled","tabindex","aria-controls"],_e=["id"],xe={key:0},ke={class:"multiselect__option"},Me=["id","role"],Oe=["onClick","onMouseenter","data-select","data-selected","data-deselect"],Se=["data-select","data-deselect","onMouseenter","onMousedown"],Ce={class:"multiselect__option"},Ie={class:"multiselect__option"};function Ne(e){return 0!==e&&(!(!Array.isArray(e)||0!==e.length)||!e)}function Be(e,t,n,r){return e.filter((e=>{return o=r(e,n),i=t,void 0===o&&(o="undefined"),null===o&&(o="null"),!1===o&&(o="false"),-1!==o.toString().toLowerCase().indexOf(i.trim());var o,i}))}function Ee(e){return e.filter((e=>!e.$isLabel))}function Pe(e,t){return n=>n.reduce(((n,r)=>r[e]&&r[e].length?(n.push({$groupLabel:r[t],$isLabel:!0}),n.concat(r[e])):n),[])}const Le=(...e)=>t=>e.reduce(((e,t)=>t(e)),t),Ve={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default:()=>[]},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default:(e,t)=>Ne(e)?"":t?e[t]:e},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default:()=>[]},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.value||0===this.value?Array.isArray(this.value)?this.value:[this.value]:[]},filteredOptions(){const e=this.search||"",t=e.toLowerCase().trim();let n=this.options.concat();var r;return n=this.internalSearch?this.groupValues?this.filterAndFlat(n,t,this.label):Be(n,t,this.label,this.customLabel):this.groupValues?Pe(this.groupValues,this.groupLabel)(n):n,n=this.hideSelected?n.filter((r=this.isSelected,(...e)=>!r(...e))):n,this.taggable&&t.length&&!this.isExistingOption(t)&&("bottom"===this.tagPosition?n.push({isTag:!0,label:e}):n.unshift({isTag:!0,label:e})),n.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map((e=>e[this.trackBy])):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map((e=>this.customLabel(e,this.label).toString().toLowerCase()))},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("input",this.multiple?[]:null))},search(){this.$emit("search-change",this.search,this.id)}},methods:{getValue(){return this.multiple?this.internalValue:0===this.internalValue.length?null:this.internalValue[0]},filterAndFlat(e,t,n){return Le(function(e,t,n,r,o){return i=>i.map((i=>{if(!i[n])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const l=Be(i[n],e,t,o);return l.length?{[r]:i[r],[n]:l}:[]}))}(t,n,this.groupValues,this.groupLabel,this.customLabel),Pe(this.groupValues,this.groupLabel))(e)},flatAndStrip(e){return Le(Pe(this.groupValues,this.groupLabel),Ee)(e)},updateSearch(e){this.search=e},isExistingOption(e){return!!this.options&&this.optionKeys.indexOf(e)>-1},isSelected(e){const t=this.trackBy?e[this.trackBy]:e;return this.valueKeys.indexOf(t)>-1},isOptionDisabled:e=>!!e.$isDisabled,getOptionLabel(e){if(Ne(e))return"";if(e.isTag)return e.label;if(e.$isLabel)return e.$groupLabel;let t=this.customLabel(e,this.label);return Ne(t)?"":t},select(e,t){if(e.$isLabel&&this.groupSelect)this.selectGroup(e);else if(!(-1!==this.blockKeys.indexOf(t)||this.disabled||e.$isDisabled||e.$isLabel)&&(!this.max||!this.multiple||this.internalValue.length!==this.max)&&("Tab"!==t||this.pointerDirty)){if(e.isTag)this.$emit("tag",e.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(e))return void("Tab"!==t&&this.removeElement(e));this.multiple?this.$emit("input",this.internalValue.concat([e]),this.id):this.$emit("input",e,this.id),this.$emit("select",e,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(e){const t=this.options.find((t=>t[this.groupLabel]===e.$groupLabel));if(t){if(this.wholeGroupSelected(t)){this.$emit("remove",t[this.groupValues],this.id);const e=this.trackBy?t[this.groupValues].map((e=>e[this.trackBy])):t[this.groupValues],n=this.internalValue.filter((t=>-1===e.indexOf(this.trackBy?t[this.trackBy]:t)));this.$emit("input",n,this.id)}else{let e=t[this.groupValues].filter((e=>!(this.isOptionDisabled(e)||this.isSelected(e))));this.max&&e.splice(this.max-this.internalValue.length),this.$emit("select",e,this.id),this.$emit("input",this.internalValue.concat(e),this.id)}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(e){return e[this.groupValues].every((e=>this.isSelected(e)||this.isOptionDisabled(e)))},wholeGroupDisabled(e){return e[this.groupValues].every(this.isOptionDisabled)},removeElement(e,t=!0){if(this.disabled)return;if(e.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1)return void this.deactivate();const n="object"==typeof e?this.valueKeys.indexOf(e[this.trackBy]):this.valueKeys.indexOf(e);if(this.multiple){const e=this.internalValue.slice(0,n).concat(this.internalValue.slice(n+1));this.$emit("input",e,this.id)}else this.$emit("input",null,this.id);this.$emit("remove",e,this.id),this.closeOnSelect&&t&&this.deactivate()},removeLastElement(){-1===this.blockKeys.indexOf("Delete")&&0===this.search.length&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&0===this.pointer&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick((()=>this.$refs.search&&this.$refs.search.focus()))):this.preventAutofocus||void 0!==this.$el&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?null!==this.$refs.search&&void 0!==this.$refs.search&&this.$refs.search.blur():void 0!==this.$el&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if("undefined"==typeof window)return;const e=this.$el.getBoundingClientRect().top,t=window.innerHeight-this.$el.getBoundingClientRect().bottom;t>this.maxHeight||t>e||"below"===this.openDirection||"bottom"===this.openDirection?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(t-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(e-40,this.maxHeight))}}},De={name:"vue-multiselect",mixins:[Ve,{data:()=>({pointer:0,pointerDirty:!1}),props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(e,t){return{"multiselect__option--highlight":e===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(t)}},groupHighlight(e,t){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":t.$isLabel}];const n=this.options.find((e=>e[this.groupLabel]===t.$groupLabel));return n&&!this.wholeGroupDisabled(n)?["multiselect__option--group",{"multiselect__option--highlight":e===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(n)}]:"multiselect__option--disabled"},addPointerElement({key:e}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],e),this.pointerReset()},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(e){this.pointer=e,this.pointerDirty=!0}}}],props:{name:{type:String,default:""},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:e=>`and ${e} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||0===this.singleValue)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!(this.internalValue.length||this.searchable&&this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.value&&this.value.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return"above"===this.openDirection||"top"===this.openDirection||"below"!==this.openDirection&&"bottom"!==this.openDirection&&"above"===this.preferredOpenDirection},showSearchInput(){return this.searchable&&(!this.hasSingleSelectedSlot||!this.visibleSingleValue&&0!==this.visibleSingleValue||this.isOpen)}}};var Te=n(929),$e={insert:"head",singleton:!1};J()(Te.A,$e);Te.A.locals;const je=(0,W.A)(De,[["render",function(e,t,n,o,i,l){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{tabindex:e.searchable?-1:n.tabindex,class:(0,r.normalizeClass)([{"multiselect--active":e.isOpen,"multiselect--disabled":n.disabled,"multiselect--above":l.isAbove,"multiselect--has-options-group":l.hasOptionGroup},"multiselect"]),onFocus:t[13]||(t[13]=t=>e.activate()),onBlur:t[14]||(t[14]=t=>!e.searchable&&e.deactivate()),onKeydown:[t[15]||(t[15]=(0,r.withKeys)((0,r.withModifiers)((t=>e.pointerForward()),["self","prevent"]),["down"])),t[16]||(t[16]=(0,r.withKeys)((0,r.withModifiers)((t=>e.pointerBackward()),["self","prevent"]),["up"]))],onKeypress:t[17]||(t[17]=(0,r.withKeys)((0,r.withModifiers)((t=>e.addPointerElement(t)),["stop","self"]),["enter","tab"])),onKeyup:t[18]||(t[18]=(0,r.withKeys)((t=>e.deactivate()),["esc"])),role:"combobox","aria-owns":"listbox-"+e.id},[(0,r.renderSlot)(e.$slots,"caret",{toggle:e.toggle},(()=>[(0,r.createElementVNode)("div",{onMousedown:t[0]||(t[0]=(0,r.withModifiers)((t=>e.toggle()),["prevent","stop"])),class:"multiselect__select"},null,32)])),(0,r.renderSlot)(e.$slots,"clear",{search:e.search}),(0,r.createElementVNode)("div",me,[(0,r.renderSlot)(e.$slots,"selection",{search:e.search,remove:e.removeElement,values:l.visibleValues,isOpen:e.isOpen},(()=>[(0,r.withDirectives)((0,r.createElementVNode)("div",fe,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(l.visibleValues,((t,n)=>(0,r.renderSlot)(e.$slots,"tag",{option:t,search:e.search,remove:e.removeElement},(()=>[((0,r.openBlock)(),(0,r.createElementBlock)("span",{class:"multiselect__tag",key:n},[(0,r.createElementVNode)("span",{textContent:(0,r.toDisplayString)(e.getOptionLabel(t))},null,8,ve),(0,r.createElementVNode)("i",{tabindex:"1",onKeypress:(0,r.withKeys)((0,r.withModifiers)((n=>e.removeElement(t)),["prevent"]),["enter"]),onMousedown:(0,r.withModifiers)((n=>e.removeElement(t)),["prevent"]),class:"multiselect__tag-icon"},null,40,ge)]))])))),256))],512),[[r.vShow,l.visibleValues.length>0]]),e.internalValue&&e.internalValue.length>n.limit?(0,r.renderSlot)(e.$slots,"limit",{key:0},(()=>[(0,r.createElementVNode)("strong",{class:"multiselect__strong",textContent:(0,r.toDisplayString)(n.limitText(e.internalValue.length-n.limit))},null,8,be)])):(0,r.createCommentVNode)("",!0)])),(0,r.createVNode)(r.Transition,{name:"multiselect__loading"},{default:(0,r.withCtx)((()=>[(0,r.renderSlot)(e.$slots,"loading",{},(()=>[(0,r.withDirectives)((0,r.createElementVNode)("div",ye,null,512),[[r.vShow,n.loading]])]))])),_:3}),e.searchable?((0,r.openBlock)(),(0,r.createElementBlock)("input",{key:0,ref:"search",name:n.name,id:e.id,type:"text",autocomplete:"off",spellcheck:"false",placeholder:e.placeholder,style:(0,r.normalizeStyle)(l.inputStyle),value:e.search,disabled:n.disabled,tabindex:n.tabindex,onInput:t[1]||(t[1]=t=>e.updateSearch(t.target.value)),onFocus:t[2]||(t[2]=(0,r.withModifiers)((t=>e.activate()),["prevent"])),onBlur:t[3]||(t[3]=(0,r.withModifiers)((t=>e.deactivate()),["prevent"])),onKeyup:t[4]||(t[4]=(0,r.withKeys)((t=>e.deactivate()),["esc"])),onKeydown:[t[5]||(t[5]=(0,r.withKeys)((0,r.withModifiers)((t=>e.pointerForward()),["prevent"]),["down"])),t[6]||(t[6]=(0,r.withKeys)((0,r.withModifiers)((t=>e.pointerBackward()),["prevent"]),["up"])),t[8]||(t[8]=(0,r.withKeys)((0,r.withModifiers)((t=>e.removeLastElement()),["stop"]),["delete"]))],onKeypress:t[7]||(t[7]=(0,r.withKeys)((0,r.withModifiers)((t=>e.addPointerElement(t)),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+e.id},null,44,we)):(0,r.createCommentVNode)("",!0),l.isSingleLabelVisible?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:1,class:"multiselect__single",onMousedown:t[9]||(t[9]=(0,r.withModifiers)(((...t)=>e.toggle&&e.toggle(...t)),["prevent"]))},[(0,r.renderSlot)(e.$slots,"singleLabel",{option:l.singleValue},(()=>[(0,r.createElementVNode)("template",null,[(0,r.createTextVNode)((0,r.toDisplayString)(e.currentOptionLabel),1)])]))],32)):(0,r.createCommentVNode)("",!0),l.isPlaceholderVisible?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:2,class:"multiselect__placeholder",onMousedown:t[10]||(t[10]=(0,r.withModifiers)(((...t)=>e.toggle&&e.toggle(...t)),["prevent"]))},[(0,r.renderSlot)(e.$slots,"placeholder",{},(()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.placeholder),1)]))],32)):(0,r.createCommentVNode)("",!0)],512),(0,r.createVNode)(r.Transition,{name:"multiselect"},{default:(0,r.withCtx)((()=>[(0,r.withDirectives)((0,r.createElementVNode)("div",{class:"multiselect__content-wrapper",onFocus:t[11]||(t[11]=(...t)=>e.activate&&e.activate(...t)),tabindex:"-1",onMousedown:t[12]||(t[12]=(0,r.withModifiers)((()=>{}),["prevent"])),style:(0,r.normalizeStyle)({maxHeight:e.optimizedHeight+"px"}),ref:"list"},[(0,r.createElementVNode)("ul",{class:"multiselect__content",style:(0,r.normalizeStyle)(l.contentStyle),role:"listbox",id:"listbox-"+e.id},[(0,r.renderSlot)(e.$slots,"beforeList"),e.multiple&&e.max===e.internalValue.length?((0,r.openBlock)(),(0,r.createElementBlock)("li",xe,[(0,r.createElementVNode)("span",ke,[(0,r.renderSlot)(e.$slots,"maxElements",{},(()=>[(0,r.createTextVNode)("Maximum of "+(0,r.toDisplayString)(e.max)+" options selected. First remove a selected option to select another.",1)]))])])):(0,r.createCommentVNode)("",!0),!e.max||e.internalValue.length<e.max?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:1},(0,r.renderList)(e.filteredOptions,((t,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("li",{class:"multiselect__element",key:n,id:e.id+"-"+n,role:t&&(t.$isLabel||t.$isDisabled)?null:"option"},[t&&(t.$isLabel||t.$isDisabled)?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,class:(0,r.normalizeClass)([e.optionHighlight(n,t),"multiselect__option"]),onClick:(0,r.withModifiers)((n=>e.select(t)),["stop"]),onMouseenter:(0,r.withModifiers)((t=>e.pointerSet(n)),["self"]),"data-select":t&&t.isTag?e.tagPlaceholder:l.selectLabelText,"data-selected":l.selectedLabelText,"data-deselect":l.deselectLabelText},[(0,r.renderSlot)(e.$slots,"option",{option:t,search:e.search,index:n},(()=>[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.getOptionLabel(t)),1)]))],42,Oe)),t&&(t.$isLabel||t.$isDisabled)?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:1,"data-select":e.groupSelect&&l.selectGroupLabelText,"data-deselect":e.groupSelect&&l.deselectGroupLabelText,class:(0,r.normalizeClass)([e.groupHighlight(n,t),"multiselect__option"]),onMouseenter:(0,r.withModifiers)((t=>e.groupSelect&&e.pointerSet(n)),["self"]),onMousedown:(0,r.withModifiers)((n=>e.selectGroup(t)),["prevent"])},[(0,r.renderSlot)(e.$slots,"option",{option:t,search:e.search,index:n},(()=>[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.getOptionLabel(t)),1)]))],42,Se)):(0,r.createCommentVNode)("",!0)],8,Me)))),128)):(0,r.createCommentVNode)("",!0),(0,r.withDirectives)((0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("span",Ce,[(0,r.renderSlot)(e.$slots,"noResult",{search:e.search},(()=>[t[19]||(t[19]=(0,r.createTextVNode)("No elements found. Consider changing the search query."))]))])],512),[[r.vShow,n.showNoResults&&0===e.filteredOptions.length&&e.search&&!n.loading]]),(0,r.withDirectives)((0,r.createElementVNode)("li",null,[(0,r.createElementVNode)("span",Ie,[(0,r.renderSlot)(e.$slots,"noOptions",{},(()=>[t[20]||(t[20]=(0,r.createTextVNode)("List is empty."))]))])],512),[[r.vShow,n.showNoOptions&&(0===e.options.length||!0===l.hasOptionGroup&&0===e.filteredOptions.length)&&!e.search&&!n.loading]]),(0,r.renderSlot)(e.$slots,"afterList")],12,_e)],36),[[r.vShow,e.isOpen]])])),_:3})],42,he)}]]);function Ae(e){return function(e){if(Array.isArray(e))return Fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const ze={mixins:[I.HandlesValidationErrors],props:["newItem","showModal","update","linkType","menuItemTypes","resourceName","resourceId","isMenuItemUpdating","maxDepth"],data:function(){return{toggleLabels:!1,selectedType:"",defaultFieldProps:{fullWidth:!0,stacked:!0,withLabel:!0,visible:!0},overflowHiddenParent:null}},components:{Button:V.Button,CancelButton:V.CancelButton,Multiselect:je},watch:{"linkType.class":function(e){this.selectedType=e||""},"newItem.name":function(e){this.emitFieldValueChange("name",e)},showModal:function(e){var t=this;this.$nextTick((function(){var n=document.querySelector(".modal.fixed");n&&(e?n.addEventListener("scroll",t.repositionDropdown):n.removeEventListener("scroll",t.repositionDropdown))}))}},mounted:function(){var e=this;this.toggleLabels={checked:this.__("novaMenuBuilder.menuItemActive"),unchecked:this.__("novaMenuBuilder.menuItemDisabled")},this.switchColor={checked:"#21b978",unchecked:"#dae1e7",disabled:"#eef1f4"},this.$nextTick((function(){if(!e.overflowHiddenParent&&e.$refs.multiselect&&e.$refs.multiselect.$el){for(var t=e.$refs.multiselect.$el.parentElement,n=null;t&&!n;)t.classList.contains("overflow-hidden")&&(n=t),t=t.parentElement;e.overflowHiddenParent=n}e.overflowHiddenParent&&(e.overflowHiddenParent.style.overflow="visible")}))},computed:{options:function(){var e=Ae(this.linkType.options);return e.unshift({id:"",label:this.__("novaMenuBuilder.chooseOption")}),e},fields:function(){var e=this.linkType.fields||[];return this.update&&(e=(this.linkType.class===this.newItem.class?this.newItem.fields:this.linkType.fields)||[],e.forEach((function(e){"slug-field"===e.component&&(e.updating=!0,e.readonly=!0,e.showCustomizeButton=!0)}))),e.forEach((function(e){e.stacked=!0,e.fullWidth=!0,e.withLabel=!0})),e||[]},wrappedErrors:function(){var e=this.$props.errors;return e&&"function"==typeof e.has?e:new I.Errors(e||{})},selectedOption:function(){var e=this;if("select"===this.linkType.type)return this.options.find((function(t){return t.id===e.newItem.value}))}},methods:{handleTypeChange:function(e){var t=e.target.value;this.$emit("onLinkTypeUpdate",t)},handleChange:function(e){this.$emit("onLinkModelUpdate",e?e.id:void 0),this.$nextTick(this.repositionDropdown)},handleOpen:function(){this.$nextTick(this.repositionDropdown)},handleClose:function(){this.overflowHiddenParent&&(this.overflowHiddenParent.style.overflow=null)},handleRemove:function(){this.$nextTick(this.repositionDropdown)},storeWithData:function(e){var t=this;this.fields.forEach((function(e){var n=new FormData;e.fill(n);var r=Array.from(n.values());if("trix-field"!==e.component){var o=Array.from(n.keys())[0];o&&o.endsWith("]")?t.newItem[e.attribute]=r||[]:(0===r.length&&(t.newItem[e.attribute]=void 0),1===r.length&&(t.newItem[e.attribute]=r[0]),r.length>1&&(t.newItem[e.attribute]=r))}else t.newItem[e.attribute]=r[0]})),this.$emit(e)},repositionDropdown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$refs.multiselect;if(t){var n=t.$el,r=function(){e&&(t.$refs.list.scrollTop=0);var r=n.getBoundingClientRect().height;t.$refs.list.style.position="absolute",t.$refs.list.style.width="".concat(n.clientWidth+1,"px"),t.$refs.list.style.top="".concat(r,"px"),t.$refs.list.style["border-radius"]="0 0 5px 5px"};e?this.$nextTick(r):r()}},getError:function(e){return this.wrappedErrors.has(e)},emitFieldValue:function(e,t){Nova.$emit("".concat(e,"-value"),t)},emitFieldValueChange:function(e,t){Nova.$emit("".concat(e,"-change"),t)}}};var He=n(259),Ge={insert:"head",singleton:!1};J()(He.A,Ge);He.A.locals;const qe=(0,W.A)(ze,[["render",function(e,t,n,o,i,l){var s=this,a=(0,r.resolveComponent)("CheckboxWithLabel"),u=(0,r.resolveComponent)("ModalHeader"),c=(0,r.resolveComponent)("DefaultField"),d=(0,r.resolveComponent)("multiselect"),p=(0,r.resolveComponent)("SelectControl"),h=(0,r.resolveComponent)("CancelButton"),m=(0,r.resolveComponent)("Button"),f=(0,r.resolveComponent)("ModalFooter"),v=(0,r.resolveComponent)("Modal");return(0,r.openBlock)(),(0,r.createBlock)(v,{show:n.showModal,class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg",align:"flex justify-end"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(u,{class:"flex flex-wrap justify-between"},{default:(0,r.withCtx)((function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(e.__(n.update?"novaMenuBuilder.updateModalTitle":"novaMenuBuilder.createModalTitle"))+" ",1),(0,r.withDirectives)((0,r.createVNode)(a,{class:"ml-auto mr-4",checked:n.newItem.nestable,onInput:t[0]||(t[0]=function(e){return n.newItem.nestable=e.target.checked})},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("span",ie,(0,r.toDisplayString)(e.__("novaMenuBuilder.nestableLabel")),1)]})),_:1},8,["checked"]),[[r.vShow,1!==n.maxDepth]]),(0,r.createVNode)(a,{checked:n.newItem.enabled,onInput:t[1]||(t[1]=function(e){return n.newItem.enabled=e.target.checked})},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("span",le,(0,r.toDisplayString)(n.newItem.enabled?s.toggleLabels.checked:s.toggleLabels.unchecked),1)]})),_:1},8,["checked"])]})),_:1}),(0,r.createElementVNode)("div",se,[(0,r.createElementVNode)("form",{onSubmit:t[8]||(t[8]=(0,r.withModifiers)((function(t){return e.$emit(n.update?"updateItem":"confirmItemCreate")}),["prevent"])),autocomplete:"off"},[(0,r.createVNode)(c,{errors:l.wrappedErrors,fullWidthContent:!0,field:re(re({},e.defaultFieldProps),{},{validationKey:"name",name:e.__("novaMenuBuilder.menuItemName")})},{field:(0,r.withCtx)((function(){return[(0,r.withDirectives)((0,r.createElementVNode)("input",{placeholder:e.__("novaMenuBuilder.menuItemName"),class:(0,r.normalizeClass)([{"o1-border-red-400":l.getError("name")},"w-full form-control form-input form-control-bordered"]),id:"name",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return n.newItem.name=e})},null,10,ae),[[r.vModelText,n.newItem.name]])]})),_:1},8,["errors","field"]),(0,r.createVNode)(c,{errors:l.wrappedErrors,fullWidthContent:!0,field:re(re({},e.defaultFieldProps),{},{validationKey:"class",name:e.__("novaMenuBuilder.menuItemType")})},{field:(0,r.withCtx)((function(){return[(0,r.withDirectives)((0,r.createElementVNode)("select",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedType=t}),onChange:t[4]||(t[4]=function(){return l.handleTypeChange&&l.handleTypeChange.apply(l,arguments)}),class:"w-full form-control form-input form-control-bordered"},[(0,r.createElementVNode)("option",ue,(0,r.toDisplayString)(e.__("novaMenuBuilder.chooseMenuItemType")),1),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(n.menuItemTypes,(function(t){return(0,r.openBlock)(),(0,r.createElementBlock)("option",{key:t.class,value:t.class},(0,r.toDisplayString)(e.__(t.name)),9,ce)})),128))],544),[[r.vModelSelect,e.selectedType]])]})),_:1},8,["errors","field"]),"static-url"===n.linkType.type?((0,r.openBlock)(),(0,r.createBlock)(c,{key:0,errors:l.wrappedErrors,fullWidthContent:!0,field:re(re({},e.defaultFieldProps),{},{validationKey:"value",name:e.__("novaMenuBuilder.menuItemUrlFieldName")})},{field:(0,r.withCtx)((function(){return[(0,r.withDirectives)((0,r.createElementVNode)("input",{placeholder:e.__("novaMenuBuilder.menuItemUrlFieldName"),class:(0,r.normalizeClass)([{"o1-border-red-400":l.getError("value")},"w-full form-control form-input form-control-bordered"]),id:"url",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return n.newItem.value=e})},null,10,de),[[r.vModelText,n.newItem.value]])]})),_:1},8,["errors","field"])):(0,r.createCommentVNode)("",!0),"select"===n.linkType.type?((0,r.openBlock)(),(0,r.createBlock)(c,{key:1,class:"option-select-field o1-menu-builder-multiselect-wrapper",errors:l.wrappedErrors,fullWidthContent:!0,field:re(re({},e.defaultFieldProps),{},{validationKey:"value",name:e.__("novaMenuBuilder.menuItemValue")})},{field:(0,r.withCtx)((function(){return[(0,r.createVNode)(d,{ref:"multiselect",options:l.options,placeholder:e.__("novaMenuBuilder.chooseOption"),value:l.selectedOption,onInput:l.handleChange,onClose:l.handleClose,onRemove:l.handleRemove,onOpen:l.handleOpen,label:"label","track-by":"id",selectLabel:"",selectGroupLabel:"",selectedLabel:"",deselectLabel:"",deselectGroupLabel:""},{singleLabel:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(l.selectedOption?l.selectedOption.label:""),1)]})),noOptions:(0,r.withCtx)((function(){return t[11]||(t[11]=[(0,r.createElementVNode)("span",null,"No options",-1)])})),noResult:(0,r.withCtx)((function(){return t[12]||(t[12]=[(0,r.createElementVNode)("span",null,"No results",-1)])})),_:1},8,["options","placeholder","value","onInput","onClose","onRemove","onOpen"])]})),_:1},8,["errors","field"])):(0,r.createCommentVNode)("",!0),n.linkType.type&&"text"!==n.linkType.type?((0,r.openBlock)(),(0,r.createBlock)(c,{key:2,fullWidthContent:!0,field:re(re({},e.defaultFieldProps),{},{name:e.__("Open in")})},{field:(0,r.withCtx)((function(){return[(0,r.createVNode)(p,{selected:n.newItem.target,"onUpdate:selected":t[6]||(t[6]=function(e){return n.newItem.target=e}),onChange:t[7]||(t[7]=function(e){return n.newItem.target=e}),options:[{value:"_self",label:e.__("novaMenuBuilder.menuItemTargetSameWindow")},{value:"_blank",label:e.__("novaMenuBuilder.menuItemTargetNewWindow")}]},null,8,["selected","options"])]})),_:1},8,["field"])):(0,r.createCommentVNode)("",!0),l.fields&&l.fields.length?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:3},(0,r.renderList)(l.fields,(function(e,t){return(0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)("form-".concat(e.component)),{key:"".concat(n.linkType.class,"_").concat(t),field:e,"resource-id":n.resourceId,"resource-name":n.resourceName,errors:l.wrappedErrors,"show-errors":!0,class:"menu-item-component",fullWidthContent:!0},null,8,["field","resource-id","resource-name","errors"])})),128)):(0,r.createCommentVNode)("",!0)],32)]),(0,r.createVNode)(f,{class:"flex justify-end"},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("div",pe,[(0,r.createVNode)(h,{component:"button",type:"button",dusk:"cancel-action-button",onClick:t[9]||(t[9]=(0,r.withModifiers)((function(t){return e.$emit("closeModal")}),["prevent"])),class:"mr-3"}),(0,r.createVNode)(m,{type:"button",dusk:"confirm-action-button",state:"default",variant:"solid",disabled:n.isMenuItemUpdating,loading:n.isMenuItemUpdating,label:e.__(n.update?"novaMenuBuilder.updatebuttonTitle":"novaMenuBuilder.createButtonTitle"),onClick:t[10]||(t[10]=(0,r.withModifiers)((function(e){return l.storeWithData(n.update?"updateItem":"confirmItemCreate")}),["prevent"]))},null,8,["disabled","loading","label"])])]})),_:1})]})),_:1},8,["show"])}]]);var Re={class:"p-6 grid gap-6"},Ke={key:0},Ue={class:"ml-auto"};const We={props:["showModal","itemToDelete"],components:{Button:V.Button}},Ye=(0,W.A)(We,[["render",function(e,t,n,o,i,l){var s=(0,r.resolveComponent)("ModalHeader"),a=(0,r.resolveComponent)("CancelButton"),u=(0,r.resolveComponent)("Button"),c=(0,r.resolveComponent)("ModalFooter"),d=(0,r.resolveComponent)("Modal");return(0,r.openBlock)(),(0,r.createBlock)(d,{show:n.showModal,class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(s,{textContent:(0,r.toDisplayString)(e.__("novaMenuBuilder.delConfirmModalTitle"))},null,8,["textContent"]),(0,r.createElementVNode)("div",Re,[n.itemToDelete&&n.itemToDelete.children.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("p",Ke,(0,r.toDisplayString)(e.__("novaMenuBuilder.delConfirmModalDescChildren")),1)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("p",null,(0,r.toDisplayString)(e.__("novaMenuBuilder.delConfirmModalDesc")),1)]),(0,r.createVNode)(c,{class:"flex justify-end"},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("div",Ue,[(0,r.createVNode)(a,{component:"button",type:"button",dusk:"cancel-action-button",onClick:t[0]||(t[0]=(0,r.withModifiers)((function(t){return e.$emit("closeModal")}),["prevent"])),class:"mr-3"}),(0,r.createVNode)(u,{type:"button",dusk:"confirm-action-button",state:"danger",label:e.__("novaMenuBuilder.delConfirmModalConfirm"),onClick:t[1]||(t[1]=(0,r.withModifiers)((function(t){return e.$emit("confirmItemDelete")}),["prevent"]))},null,8,["label"])])]})),_:1})]})),_:1},8,["show"])}]]);var Xe=["dusk"],Je={class:"text-base font-normal mt-3"};const Qe={components:{Button:V.Button}},Ze=(0,W.A)(Qe,[["render",function(e,t,n,o,i,l){var s=(0,r.resolveComponent)("Button");return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:"flex flex-col justify-center items-center px-6 py-8",dusk:"".concat(e.resourceName,"-empty-dialog")},[t[1]||(t[1]=(0,r.createElementVNode)("svg",{class:"inline-block text-gray-300 dark:text-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"65",height:"51",viewBox:"0 0 65 51"},[(0,r.createElementVNode)("path",{class:"fill-current",d:"M56 40h2c.552285 0 1 .447715 1 1s-.447715 1-1 1h-2v2c0 .552285-.447715 1-1 1s-1-.447715-1-1v-2h-2c-.552285 0-1-.447715-1-1s.447715-1 1-1h2v-2c0-.552285.447715-1 1-1s1 .447715 1 1v2zm-5.364125-8H38v8h7.049375c.350333-3.528515 2.534789-6.517471 5.5865-8zm-5.5865 10H6c-3.313708 0-6-2.686292-6-6V6c0-3.313708 2.686292-6 6-6h44c3.313708 0 6 2.686292 6 6v25.049375C61.053323 31.5511 65 35.814652 65 41c0 5.522847-4.477153 10-10 10-5.185348 0-9.4489-3.946677-9.950625-9zM20 30h16v-8H20v8zm0 2v8h16v-8H20zm34-2v-8H38v8h16zM2 30h16v-8H2v8zm0 2v4c0 2.209139 1.790861 4 4 4h12v-8H2zm18-12h16v-8H20v8zm34 0v-8H38v8h16zM2 20h16v-8H2v8zm52-10V6c0-2.209139-1.790861-4-4-4H6C3.790861 2 2 3.790861 2 6v4h52zm1 39c4.418278 0 8-3.581722 8-8s-3.581722-8-8-8-8 3.581722-8 8 3.581722 8 8 8z"})],-1)),(0,r.createElementVNode)("h3",Je,(0,r.toDisplayString)(e.__("novaMenuBuilder.noMenuItemsPlaceholder")),1),(0,r.createVNode)(s,{class:"mt-3",variant:"solid",state:"default",label:e.__("novaMenuBuilder.addMenuItem"),onClick:t[0]||(t[0]=(0,r.withModifiers)((function(t){return e.$emit("onAddClick")}),["prevent"]))},null,8,["label"])],8,Xe)}]]);function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=et(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==et(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ot={methods:{getCascadeState:function(e){var t=this;return{id:e.id,cascade:!e.classProp||!e.classProp.find((function(e){return"hide-cascade"===e})),children:Array.isArray(e.children)&&e.children.map((function(e){return e&&t.getCascadeState(e)}))}},saveMenuLocalState:function(){var e=this;if(Array.isArray(this.menuItems)&&0!==this.menuItems.length){var t=this.menuItems.map((function(t){return t&&e.getCascadeState(t)})),n=localStorage.getItem("menuManagerItemsState"),r=n&&JSON.parse(n)||{};r["resource-".concat(this.resourceId)]=t,localStorage.setItem("menuManagerItemsState",JSON.stringify(r))}},getMenuLocalState:function(){var e=JSON.parse(localStorage.getItem("menuManagerItemsState"));return e&&e["resource-".concat(this.resourceId)]?e["resource-".concat(this.resourceId)]:null},setMenuItemProperties:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.map((function(e){var o=!!Array.isArray(n)&&n.find((function(t){return+t.id==+e.id})),i=e.children&&e.children.length>0&&(o&&!o.cascade||!t.getMenuLocalState()&&r);return nt(nt({},e),{},{classProp:[i?"hide-cascade":""],children:Array.isArray(e.children)?t.setMenuItemProperties(e.children,o&&o.children,r):e.children})}))}}};function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=it(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==it(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(){var e=ft(),t=e.m(ut),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var o={throw:1,return:2,break:3,continue:3};function i(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,o[e],t)},delegateYield:function(e,o,i){return t.resultName=o,n(r.d,ct(e),i)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(ut=function(){return{wrap:function(t,n,r,o){return e.w(i(t),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new gt(e,t)},AsyncIterator:mt,async:function(e,t,n,o,l){return(r(t)?ht:pt)(i(e),t,n,o,l)},keys:dt,values:ct}})()}function ct(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(it(e)+" is not iterable")}function dt(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function pt(e,t,n,r,o){var i=ht(e,t,n,r,o);return i.next().then((function(e){return e.done?e.value:i.next()}))}function ht(e,t,n,r,o){return new mt(ft().w(e,t,n,r),o||Promise)}function mt(e,t){function n(r,o,i,l){try{var s=e[r](o),a=s.value;return a instanceof gt?t.resolve(a.v).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(a).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}catch(e){l(e)}}var r;this.next||(vt(mt.prototype),vt(mt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),vt(this,"_invoke",(function(e,o,i){function l(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(l,l):l()}),!0)}function ft(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=r&&r.prototype instanceof s?r:s,u=Object.create(a.prototype);return vt(u,"_invoke",function(n,r,o){var i,s,a,u=0,c=o||[],d=!1,p={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,s=0,a=e,p.n=n,l}};function h(n,r){for(s=n,a=r,t=0;!d&&u&&!o&&t<c.length;t++){var o,i=c[t],h=p.p,m=i[2];n>3?(o=m===r)&&(a=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=n<2&&h<i[1])?(s=0,p.v=r,p.n=i[1]):h<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,p.n=m,s=0))}if(o||n>1)return l;throw d=!0,r}return function(o,c,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&h(c,m),s=c,a=m;(t=s<2?e:a)||!d;){i||(s?s<3?(s>1&&(p.n=-1),h(s,a)):p.n=a:p.v=a);try{if(u=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=p.n<0)?a:n.call(r,p))!==l)break}catch(t){i=e,s=1,a=t}finally{u=1}}return{value:t,done:d}}}(n,o,i),!0),u}var l={};function s(){}function a(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(vt(t={},r,(function(){return this})),t),d=u.prototype=s.prototype=Object.create(c);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,vt(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return a.prototype=u,vt(d,"constructor",u),vt(u,"constructor",a),a.displayName="GeneratorFunction",vt(u,o,"GeneratorFunction"),vt(d),vt(d,o,"Generator"),vt(d,r,(function(){return this})),vt(d,"toString",(function(){return"[object Generator]"})),(ft=function(){return{w:i,m:p}})()}function vt(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}vt=function(e,t,n,r){function i(t,n){vt(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},vt(e,t,n,r)}function gt(e,t){this.v=e,this.k=t}function bt(e,t,n,r,o,i,l){try{var s=e[i](l),a=s.value}catch(e){return void n(e)}s.done?t(a):Promise.resolve(a).then(r,o)}function yt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){bt(i,r,o,l,s,"next",e)}function s(e){bt(i,r,o,l,s,"throw",e)}l(void 0)}))}}const wt={mixins:[I.FormField,ot],props:["resourceName","resourceId","field"],components:{MenuBuilderHeader:ee,NoMenuItemsPlaceholder:Ze,DeleteMenuItemModal:Ye,UpdateMenuItemModal:qe},data:function(){return{loadingMenuItems:!1,isMenuItemUpdating:!1,selectedLocale:void 0,showDeleteModal:!1,showAddModal:!1,itemToDelete:null,update:!1,linkType:{},errors:{},newItem:{name:null,value:"",target:"_self",menu_id:null,enabled:!0,classProp:[]},menuItems:[],menuItemTypes:void 0}},beforeMount:function(){this.selectedLocale=Object.keys(this.field.locales)[0]},mounted:function(){var e=this;return yt(ut().mark((function t(){return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$parent.$el.classList.remove("py-3","px-6"),e.refreshData();case 2:case"end":return t.stop()}}),t)})))()},computed:{newItemData:function(){return st(st({},this.newItem),{},{locale:this.selectedLocale,class:this.linkType.class||"",menu_id:this.resourceId})}},methods:{setSelectedLocale:function(e){this.selectedLocale=e,this.refreshData()},openAddModal:function(){this.update=!1,this.showAddModal=!0},closeModal:function(){this.showAddModal=!1,this.showDeleteModal=!1,this.resetNewItem()},refreshData:function(){var e=this;return yt(ut().mark((function t(){var n,r;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingMenuItems=!0,t.next=3,y(e.resourceId,e.selectedLocale);case 3:return n=t.sent.data,e.menuItems=e.setMenuItemProperties(Object.values(n),e.getMenuLocalState(),e.field.collapsedAsDefault),t.next=7,C(e.resourceId,e.selectedLocale);case 7:r=t.sent.data,e.menuItemTypes=Object.values(r),e.loadingMenuItems=!1;case 10:case"end":return t.stop()}}),t)})))()},editMenu:function(e){var t=this;return yt(ut().mark((function n(){var r;return ut().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.update=!0,n.next=3,k(e.id);case 3:r=n.sent.data,t.newItem=r,t.showAddModal=!0,t.linkType=t.menuItemTypes.find((function(e){return e.class===t.newItem.class}))||{};case 7:case"end":return n.stop()}}),n)})))()},removeMenu:function(e){this.itemToDelete=e,this.showDeleteModal=!0},confirmItemDelete:function(){var e=this;return yt(ut().mark((function t(){return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O(e.itemToDelete.id);case 3:return t.next=5,e.refreshData();case 5:Nova.success(e.__("novaMenuBuilder.toastDeleteSucces")),e.itemToDelete=null,e.showDeleteModal=!1,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.handleErrors(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},resetNewItem:function(){this.errors={},this.newItem={name:null,value:"",target:"_self",enabled:!0,menu_id:this.resourceId},this.linkType={}},confirmItemCreate:function(){var e=this;return yt(ut().mark((function t(){return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.errors={},t.next=4,x(e.newItemData);case 4:e.refreshData(),e.showAddModal=!1,e.resetNewItem(),Nova.success(e.__("novaMenuBuilder.toastCreateSuccess")),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),e.handleErrors(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},updateItem:function(){var e=this;return yt(ut().mark((function t(){return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isMenuItemUpdating=!0,e.errors={},t.next=5,M(e.newItem.id,e.newItemData);case 5:return e.isMenuItemUpdating=!1,e.showAddModal=!1,Nova.success(e.__("novaMenuBuilder.toastUpdateSuccess")),e.resetNewItem(),t.next=11,e.refreshData();case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),e.isMenuItemUpdating=!1,e.handleErrors(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()},updateMenu:function(){var e=this;return yt(ut().mark((function t(){return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_(e.resourceId,e.menuItems);case 3:return t.next=5,e.refreshData();case 5:Nova.success(e.__("novaMenuBuilder.toastReorderSuccess")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Nova.error(e.__("novaMenuBuilder.serverError"));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},handleErrors:function(e){var t=e.response&&e.response.data&&e.response.data.errors;t&&(this.errors=t,Object.values(t).map((function(e){return Nova.error(e)})))},duplicateMenuItem:function(e){var t=this;return yt(ut().mark((function n(){return ut().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S(e.id);case 3:return n.next=5,t.refreshData();case 5:t.resetNewItem(),Nova.success(t.__("novaMenuBuilder.toastDuplicateSuccess")),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),t.handleErrors(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},updateLinkModel:function(e){this.newItem.value=e||""},updateLinkType:function(e){this.linkType=this.menuItemTypes.find((function(t){return t.class===e}))||{},this.newItem.value=""}}};var _t=n(683),xt={insert:"head",singleton:!1};J()(_t.A,xt);_t.A.locals;const kt=(0,W.A)(wt,[["render",function(e,t,n,l,s,a){var u=(0,r.resolveComponent)("menu-builder-header"),c=(0,r.resolveComponent)("loader"),d=(0,r.resolveComponent)("no-menu-items-placeholder"),p=(0,r.resolveComponent)("menu-builder"),h=(0,r.resolveComponent)("update-menu-item-modal"),m=(0,r.resolveComponent)("delete-menu-item-modal");return(0,r.openBlock)(),(0,r.createElementBlock)("div",o,[(0,r.createVNode)(u,{locales:n.field.locales,resourceId:n.resourceId,activeLocale:e.selectedLocale,menuCount:n.field.menuCount,showDuplicate:n.field.showDuplicate,onAddMenuItem:a.openAddModal,onChangeLocale:a.setSelectedLocale,onRefreshItems:a.refreshData},null,8,["locales","resourceId","activeLocale","menuCount","showDuplicate","onAddMenuItem","onChangeLocale","onRefreshItems"]),e.loadingMenuItems?((0,r.openBlock)(),(0,r.createElementBlock)("div",i,[(0,r.createVNode)(c,{class:"text-60"})])):(0,r.createCommentVNode)("",!0),e.loadingMenuItems||e.menuItems.length?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)(d,{key:1,onOnAddClick:a.openAddModal},null,8,["onOnAddClick"])),!e.loadingMenuItems&&e.menuItems.length?((0,r.openBlock)(),(0,r.createBlock)(p,{key:2,onDuplicateMenuItem:a.duplicateMenuItem,onEditMenu:a.editMenu,onOnMenuChange:a.updateMenu,onRemoveMenu:a.removeMenu,onSaveMenuLocalState:e.saveMenuLocalState,"max-depth":n.field.maxDepth,value:e.menuItems,onInput:t[0]||(t[0]=function(t){return e.menuItems=t})},null,8,["onDuplicateMenuItem","onEditMenu","onOnMenuChange","onRemoveMenu","onSaveMenuLocalState","max-depth","value"])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(h,{"max-depth":n.field.maxDepth,linkType:e.linkType,menuItemTypes:e.menuItemTypes,newItem:e.newItem,resourceId:n.resourceId,resourceName:n.resourceName,showModal:e.showAddModal,update:e.update,errors:e.errors,isMenuItemUpdating:e.isMenuItemUpdating,onCloseModal:a.closeModal,onConfirmItemCreate:a.confirmItemCreate,onOnLinkModelUpdate:a.updateLinkModel,onOnLinkTypeUpdate:a.updateLinkType,onUpdateItem:a.updateItem},null,8,["max-depth","linkType","menuItemTypes","newItem","resourceId","resourceName","showModal","update","errors","isMenuItemUpdating","onCloseModal","onConfirmItemCreate","onOnLinkModelUpdate","onOnLinkTypeUpdate","onUpdateItem"]),(0,r.createVNode)(m,{itemToDelete:e.itemToDelete,showModal:e.showDeleteModal,onCloseModal:a.closeModal,onConfirmItemDelete:a.confirmItemDelete},null,8,["itemToDelete","showModal","onCloseModal","onConfirmItemDelete"])])}]])},921:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(61);const o={data:function(){return{resourceName:Nova.config("menuBuilderUriKey")}}};const i=(0,n(262).A)(o,[["render",function(e,t,n,o,i,l){var s=(0,r.resolveComponent)("ResourceIndex");return(0,r.openBlock)(),(0,r.createBlock)(s,{"resource-name":e.resourceName,shouldOverrideMeta:!0},null,8,["resource-name"])}]])},30:function(e,t,n){var r=n(606),o=Object.defineProperty,i=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&c(e,n,t[n]);if(s)for(var n of s(t))u.call(t,n)&&c(e,n,t[n]);return e};!function(e,t){"use strict";const n={};var o={methods:{registerNestable(e){const t=this._getByGroup(e.group);t.onDragStartListeners.push(e.onDragStart),t.onMouseEnterListeners.push(e.onMouseEnter),t.onMouseMoveListeners.push(e.onMouseMove)},notifyDragStart(e,t,n){const r=this._getByGroup(e);for(const e of r.onDragStartListeners)e(t,n)},notifyMouseEnter(e,t,n,r){const o=this._getByGroup(e);for(const e of o.onMouseEnterListeners)e(t,n,r)},notifyMouseMove(e,t){const n=this._getByGroup(e);for(const e of n.onMouseMoveListeners)e(t)},_getByGroup:e=>(n[e]||(n[e]={onDragStartListeners:[],onMouseEnterListeners:[],onMouseMoveListeners:[],onDragStart:[],dragItem:null}),n[e])}},s=(e,t)=>{const n=e.__vccOpts||e;for(const[e,r]of t)n[e]=r;return n};const a={name:"NestableItem",mixins:[o],props:{item:{type:Object,required:!0,default:()=>({})},index:{type:Number,required:!1,default:null},isChild:{type:Boolean,required:!1,default:!1},isCopy:{type:Boolean,required:!1,default:!1},options:{type:Object,required:!0,default:()=>({})}},inject:["listId","group","keyProp"],data:()=>({breakPoint:null,moveDown:!1}),computed:{isDragging(){const e=this.options.dragItem;return!this.isCopy&&e&&e[this.options.keyProp]===this.item[this.options.keyProp]},hasChildren(){return this.item[this.options.childrenProp]&&this.item[this.options.childrenProp].length>0},hasHandle(){return!!this.$scopedSlots.handler},normalizedClassProp(){const e=this.item[this.options.classProp];return e?Array.isArray(e)?e:[e]:[]},itemClasses(){const e=this.isDragging?["is-dragging"]:[];return["nestable-item"+(this.isCopy?"-copy":""),`nestable-item${this.isCopy?"-copy":""}-${this.item[this.options.keyProp]}`,...e,...this.normalizedClassProp]}},methods:{onMouseEnter(e){if(this.options.dragItem){if(!e.movementY)return this.sendNotification(e);this.moveDown=e.movementY>0,this.breakPoint=e.target.getBoundingClientRect().height/2}},onMouseLeave(){this.breakPoint=null},onMouseMove(e){if(!this.breakPoint)return;const t=e.offsetY-this.breakPoint;this.moveDown&&t<this.breakPoint/4||!this.moveDown&&t>-this.breakPoint/4||this.sendNotification(e)},sendNotification(e){this.breakPoint=null;const t=this.item||this.$parent.item;this.notifyMouseEnter(this.group,e,this.listId,t)}}},u={key:0,class:"nestable-list"};function c(e,n,r,o,i,l){const s=t.resolveComponent("NestableItem",!0);return t.openBlock(),t.createElementBlock("li",{class:t.normalizeClass(l.itemClasses)},[t.createElementVNode("div",{class:"nestable-item-content",onMouseenter:n[0]||(n[0]=(...e)=>l.onMouseEnter&&l.onMouseEnter(...e)),onMouseleave:n[1]||(n[1]=(...e)=>l.onMouseLeave&&l.onMouseLeave(...e)),onMousemove:n[2]||(n[2]=(...e)=>l.onMouseMove&&l.onMouseMove(...e))},[t.renderSlot(e.$slots,"default",{index:r.index,item:r.item,isChild:r.isChild})],32),l.hasChildren?(t.openBlock(),t.createElementBlock("ol",u,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.item[r.options.childrenProp],((n,o)=>(t.openBlock(),t.createBlock(s,{key:n[l.keyProp],item:n,index:o,options:r.options,"is-copy":r.isCopy,"is-child":""},{default:t.withCtx((n=>[t.renderSlot(e.$slots,"default",t.normalizeProps(t.guardReactiveProps(n)))])),_:2},1032,["item","index","options","is-copy"])))),128))])):t.createCommentVNode("",!0)],2)}var p=s(a,[["render",c]]);function h(e,n,r,o,i,l){return t.openBlock(),t.createElementBlock("li",null,[t.createElementVNode("div",{class:"nestable-list-empty",onMouseenter:n[0]||(n[0]=(...e)=>l.onMouseEnter&&l.onMouseEnter(...e))},[t.renderSlot(e.$slots,"default")],32)])}var m=s({name:"Placeholder",mixins:[o],props:{index:{type:Number,required:!1,default:null},options:{type:Object,required:!1,default:()=>({})}},inject:["listId","group"],computed:{isDragging(){return this.options.dragItem}},methods:{onMouseEnter(e){!this.options.dragItem||this.notifyMouseEnter(this.group,e,this.listId,null)}}},[["render",h]]),f={methods:{getPathById(e,t=this.value){let n=[];return t.every(((t,r)=>{if(t[this.keyProp]===e)n.push(r);else if(t[this.childrenProp]){const o=this.getPathById(e,t[this.childrenProp]);o.length&&(n=n.concat(r).concat(o))}return 0===n.length})),n},getItemByPath(e,t=this.value){let n=null;return e.forEach((e=>{n=(n&&n[this.childrenProp]?n[this.childrenProp]:t)[e]})),n},getItemDepth(e){let t=1;if(e[this.childrenProp]&&e[this.childrenProp].length>0){const n=e[this.childrenProp].map(this.getItemDepth);t+=Math.max(...n)}return t},getSplicePath(e,t={}){const n={},r=t.numToRemove||0,o=t.itemsToInsert||[],i=e.length-1;let l=n;return e.forEach(((e,n)=>{if(n===i)l.$splice=[[e,r,...o]];else{const n={};l[e]={[t.childrenProp]:n},l=n}})),n},getRealNextPath(e,t){const n=e.length-1,r=t.length-1;if(e.length<t.length){let o=!1;return t.map(((i,l)=>o?l===r?i+1:i:"number"!=typeof e[l]?i:t[l]>e[l]&&l===n?(o=!0,i-1):i))}if(e.length===t.length&&t[r]>e[r]){const e=this.getItemByPath(t);if(e[this.childrenProp]&&e[this.childrenProp].length&&!this.isCollapsed(e))return t.slice(0,-1).concat(t[r]-1).concat(0)}return t}}},v={methods:{hook(e,t){if(!this.hooks[e])return!0;const n=this.hooks[e](t);return n||void 0===n}}};function g(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var b={exports:{}};!function(e,t){function n(e){return"object"!=typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var o="object"==typeof r&&!0;function i(e,t){if(!e)throw o?new Error("Invariant failed"):new Error(t())}t.invariant=i;var l=Object.prototype.hasOwnProperty,s=Array.prototype.splice,a=Object.prototype.toString;function u(e){return a.call(e).slice(8,-1)}var c=Object.assign||function(e,t){return d(t).forEach((function(n){l.call(t,n)&&(e[n]=t[n])})),e},d="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function p(e){return Array.isArray(e)?c(e.constructor(e.length),e):"Map"===u(e)?new Map(e):"Set"===u(e)?new Set(e):e&&"object"==typeof e?c(Object.create(Object.getPrototypeOf(e)),e):e}var h=function(){function e(){this.commands=c({},m),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,r="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(r)||i(!Array.isArray(r),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),i("object"==typeof r&&null!==r,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."}));var o=e;return d(r).forEach((function(t){if(l.call(n.commands,t)){var i=e===o;o=n.commands[t](r[t],o,r,e),i&&n.isEquals(o,e)&&(o=e)}else{var s="Map"===u(e)?n.update(e.get(t),r[t]):n.update(e[t],r[t]),a="Map"===u(o)?o.get(t):o[t];(!n.isEquals(s,a)||void 0===s&&!l.call(e,t))&&(o===e&&(o=p(e)),"Map"===u(o)?o.set(t,s):o[t]=s)}})),o},e}();t.Context=h;var m={$push:function(e,t,n){return v(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return v(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,r){return b(t,n),e.forEach((function(e){y(e),t===r&&e.length&&(t=p(r)),s.apply(t,e)})),t},$set:function(e,t,n){return _(n),e},$toggle:function(e,t){g(e,"$toggle");var n=e.length?p(t):t;return e.forEach((function(e){n[e]=!t[e]})),n},$unset:function(e,t,n,r){return g(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=p(r)),delete t[e])})),t},$add:function(e,t,n,r){return k(t,"$add"),g(e,"$add"),"Map"===u(t)?e.forEach((function(e){var n=e[0],o=e[1];t===r&&t.get(n)!==o&&(t=p(r)),t.set(n,o)})):e.forEach((function(e){t===r&&!t.has(e)&&(t=p(r)),t.add(e)})),t},$remove:function(e,t,n,r){return k(t,"$remove"),g(e,"$remove"),e.forEach((function(e){t===r&&t.has(e)&&(t=p(r)),t.delete(e)})),t},$merge:function(e,t,n,r){return x(t,e),d(e).forEach((function(n){e[n]!==t[n]&&(t===r&&(t=p(r)),t[n]=e[n])})),t},$apply:function(e,t){return w(e),e(t)}},f=new h;function v(e,t,r){i(Array.isArray(e),(function(){return"update(): expected target of "+n(r)+" to be an array; got "+n(e)+"."})),g(t[r],r)}function g(e,t){i(Array.isArray(e),(function(){return"update(): expected spec of "+n(t)+" to be an array; got "+n(e)+". Did you forget to wrap your parameter in an array?"}))}function b(e,t){i(Array.isArray(e),(function(){return"Expected $splice target to be an array; got "+n(e)})),y(t.$splice)}function y(e){i(Array.isArray(e),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+n(e)+". Did you forget to wrap your parameters in an array?"}))}function w(e){i("function"==typeof e,(function(){return"update(): expected spec of $apply to be a function; got "+n(e)+"."}))}function _(e){i(1===Object.keys(e).length,(function(){return"Cannot have more than one key in an object with $set"}))}function x(e,t){i(t&&"object"==typeof t,(function(){return"update(): $merge expects a spec of type 'object'; got "+n(t)})),i(e&&"object"==typeof e,(function(){return"update(): $merge expects a target of type 'object'; got "+n(e)}))}function k(e,t){var r=u(e);i("Map"===r||"Set"===r,(function(){return"update(): "+n(t)+" expects a target of type Set or Map; got "+n(r)}))}t.isEquals=f.update.isEquals,t.extend=f.extend,t.default=f.update,t.default.default=e.exports=c(t.default,t)}(b,b.exports);var y=g(b.exports);const w=(e,t)=>e.closest(t),_=e=>{var t=e.getBoundingClientRect();return{top:Math.round(t.top),left:Math.round(t.left)}},x=(e,t)=>({transform:"translate("+e+"px, "+t+"px)"}),k=(e,t)=>e.map((e=>((e,t)=>i(e,l(t)))(d({},e),{[t]:e[t]?k(e[t],t):[]}))),M={name:"VueNestable",components:{NestableItem:p,Placeholder:m},mixins:[f,o,v],props:{value:{type:Array,required:!0,default:()=>[]},threshold:{type:Number,required:!1,default:30},maxDepth:{type:Number,required:!1,default:10},keyProp:{type:String,required:!1,default:"id"},classProp:{type:String,required:!1,default:null},group:{type:[String,Number],required:!1,default:()=>Math.random().toString(36).slice(2)},childrenProp:{type:String,required:!1,default:"children"},collapsed:{type:Boolean,required:!1,default:!1},hooks:{type:Object,required:!1,default:()=>({})},rtl:{type:Boolean,required:!1,default:!1}},provide(){return{listId:this.listId,group:this.group,keyProp:this.keyProp,onDragEnd:this.onDragEnd}},data:()=>({itemsOld:null,dragItem:null,mouse:{last:{x:0},shift:{x:0}},el:null,elCopyStyles:null,isDirty:!1,collapsedGroups:[],listId:Math.random().toString(36).slice(2)}),computed:{listIsEmpty(){return 0===this.value.length},itemOptions(){return{dragItem:this.dragItem,keyProp:this.keyProp,classProp:this.classProp,childrenProp:this.childrenProp}},listStyles(){const e=document.querySelector(".nestable-"+this.group+" .nestable-item-"+this.dragItem[this.keyProp]);let t={};return e&&(t.width=`${e.clientWidth}px`),this.elCopyStyles&&(t=d(d({},t),this.elCopyStyles)),t}},created(){const e=k(this.value,this.childrenProp);this.$emit("input",e),this.isDirty=!1,this.registerNestable(this)},beforeDestroy(){this.stopTrackMouse()},methods:{startTrackMouse(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchend",this.onDragEnd),document.addEventListener("touchcancel",this.onDragEnd),document.addEventListener("keydown",this.onKeyDown)},stopTrackMouse(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchend",this.onDragEnd),document.removeEventListener("touchcancel",this.onDragEnd),document.removeEventListener("keydown",this.onKeyDown),this.elCopyStyles=null},onDragStart(e,t){e&&(e.preventDefault(),e.stopPropagation()),this.el=w(e.target,".nestable-item"),this.startTrackMouse(),this.dragItem=t,this.itemsOld=this.value,this.$nextTick((()=>{this.onMouseMove(e)}))},onDragEnd(e,t){e&&e.preventDefault(),this.stopTrackMouse(),this.el=null,t?this.dragRevert():this.dragApply()},onKeyDown(e){27===e.which&&this.onDragEnd(null,!0)},getXandYFromEvent(e){let{clientX:t,clientY:n}=e;const{targetTouches:r}=e;if(r){const e=r[0];t=e.clientX,n=e.clientY;const o=new Event("mouseenter"),i=document.elementFromPoint(t,n),l=i&&(i.closest(".nestable-item-content")||i.closest(".nestable-list-empty"));l&&l.dispatchEvent(o)}return{clientX:t,clientY:n}},onMouseMove(e){e&&e.preventDefault();const{clientX:t,clientY:n}=this.getXandYFromEvent(e);0===this.mouse.last.x&&(this.mouse.last.x=t);const r=x(t,n),o=document.querySelector(".nestable-"+this.group+" .nestable-drag-layer");if(!o)return;const{top:i,left:l}=o.getBoundingClientRect(),s=document.querySelector(".nestable-"+this.group+" .nestable-drag-layer > .nestable-list");if(this.elCopyStyles){if(this.elCopyStyles=d(d({},this.elCopyStyles),r),s)for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&(s.style[e]=r[e]);const e=this.rtl?this.mouse.last.x-t:t-this.mouse.last.x;e>=0&&this.mouse.shift.x>=0||e<=0&&this.mouse.shift.x<=0?this.mouse.shift.x+=e:this.mouse.shift.x=0,this.mouse.last.x=t,Math.abs(this.mouse.shift.x)>this.threshold&&(this.mouse.shift.x>0?this.tryIncreaseDepth(this.dragItem):this.tryDecreaseDepth(this.dragItem),this.mouse.shift.x=0)}else{const e=_(this.el);this.elCopyStyles=d({marginTop:e.top-n-i+"px",marginLeft:e.left-t-l+"px"},r)}},moveItem({dragItem:e,pathFrom:t,pathTo:n}){const r=this.getRealNextPath(t,n),o=this.getSplicePath(t,{numToRemove:1,childrenProp:this.childrenProp}),i=this.getSplicePath(r,{numToRemove:0,itemsToInsert:[e],childrenProp:this.childrenProp});if(!this.hook("beforeMove",{dragItem:e,pathFrom:t,pathTo:r}))return;let l=this.value;l=y(l,o),l=y(l,i),this.isDirty=!0,this.pathTo=r,this.$emit("input",l)},tryIncreaseDepth(e){const t=this.getPathById(e[this.keyProp]),n=t[t.length-1],r=t.length+this.getItemDepth(e);if(n>0&&r<=this.maxDepth){const r=this.getItemByPath(t.slice(0,-1).concat(n-1));if(r[this.childrenProp]&&(!r[this.childrenProp].length||!this.isCollapsed(r))){const o=t.slice(0,-1).concat(n-1).concat(r[this.childrenProp].length);this.moveItem({dragItem:e,pathFrom:t,pathTo:o})}}},tryDecreaseDepth(e){const t=this.getPathById(e[this.keyProp]),n=t[t.length-1];if(t.length>1&&n+1===this.getItemByPath(t.slice(0,-1))[this.childrenProp].length){const n=t.slice(0,-1);n[n.length-1]+=1,this.moveItem({dragItem:e,pathFrom:t,pathTo:n})}},onMouseEnter(e,t,n){e&&(e.preventDefault(),e.stopPropagation());const r=this.dragItem;if(!r||null!==n&&r[this.keyProp]===n[this.keyProp])return;const o=this.getPathById(r[this.keyProp]);if(t!==this.listId&&0===o.length)return;let i;if(i=null===n?o.length>0?[]:[0]:this.getPathById(n[this.keyProp]),this.getRealNextPath(o,i).length+(this.getItemDepth(r)-1)>this.maxDepth)return;let l={};if(this.collapsed&&o.length>1){const e=this.getItemByPath(o.slice(0,-1));1===e[this.childrenProp].length&&(l=this.onToggleCollapse(e,!0))}this.moveItem({dragItem:r,pathFrom:o,pathTo:i},l)},isCollapsed(e){return!!(this.collapsedGroups.indexOf(e[this.keyProp])>-1^this.collapsed)},dragApply(){this.$emit("change",this.dragItem,{items:this.value,pathTo:this.pathTo}),this.pathTo=null,this.itemsOld=null,this.dragItem=null,this.isDirty=!1},dragRevert(){this.$emit("input",this.itemsOld),this.pathTo=null,this.itemsOld=null,this.dragItem=null,this.isDirty=!1}}},O={class:"nestable-list nestable-group"},S=t.createTextVNode(" No content "),C={key:0,class:"nestable-drag-layer"};function I(e,n,r,o,i,l){const s=t.resolveComponent("Placeholder"),a=t.resolveComponent("NestableItem");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["nestable",`nestable-${r.group}`,r.rtl?"nestable-rtl":""])},[t.createElementVNode("ol",O,[l.listIsEmpty?(t.openBlock(),t.createBlock(s,{key:0,options:l.itemOptions},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"placeholder",{},(()=>[S]))])),_:3},8,["options"])):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.value,((n,o)=>(t.openBlock(),t.createBlock(a,{key:n[r.keyProp],index:o,item:n,options:l.itemOptions},{default:t.withCtx((n=>[t.renderSlot(e.$slots,"default",t.normalizeProps(t.guardReactiveProps(n)))])),_:2},1032,["index","item","options"])))),128))]),i.dragItem?(t.openBlock(),t.createElementBlock("div",C,[t.createElementVNode("ol",{style:t.normalizeStyle(l.listStyles),class:"nestable-list"},[t.createVNode(a,{item:i.dragItem,options:l.itemOptions,"is-copy":!0},{default:t.withCtx((n=>[t.renderSlot(e.$slots,"default",t.normalizeProps(t.guardReactiveProps(n)))])),_:3},8,["item","options"])],4)])):t.createCommentVNode("",!0)],2)}var N=s(M,[["render",I]]);function B(e,n,r,o,i,l){return t.openBlock(),t.createElementBlock("div",{draggable:"true",class:"nestable-handle",onDragstart:n[0]||(n[0]=(...e)=>l.dragstart&&l.dragstart(...e)),onTouchstart:n[1]||(n[1]=(...e)=>l.dragstart&&l.dragstart(...e)),onTouchend:n[2]||(n[2]=(...e)=>l.touchend&&l.touchend(...e)),onTouchmove:n[3]||(n[3]=(...e)=>l.touchmove&&l.touchmove(...e))},[t.renderSlot(e.$slots,"default")],32)}var E=s({name:"VueNestableHandle",mixins:[o],props:{item:{type:Object,required:!1,default:()=>({})}},inject:["group","onDragEnd"],methods:{isEmpty(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},dragstart(e){const t=this.isEmpty(this.item)?this.$parent.item:this.item;this.notifyDragStart(this.group,e,t)},touchend(e){console.log(e),this.onDragEnd(e)},touchmove(e){console.log(e),this.notifyMouseMove(this.group,e)}}},[["render",B]]),P={install:function(e){e.component("VueNestable",N),e.component("VueNestableHandle",E)}};e.VueNestable=N,e.VueNestableHandle=E,e.default=P,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}(t,n(61))},61:e=>{"use strict";e.exports=Vue}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var l=1/0;for(c=0;c<e.length;c++){for(var[n,o,i]=e[c],s=!0,a=0;a<n.length;a++)(!1&i||l>=i)&&Object.keys(r.O).every((e=>r.O[e](n[a])))?n.splice(a--,1):(s=!1,i<l&&(l=i));if(s){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={282:0,153:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[l,s,a]=n,u=0;if(l.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(a)var c=a(r)}for(t&&t(n);u<l.length;u++)i=l[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},n=self.webpackChunkoutl1ne_nova_multiselect_field=self.webpackChunkoutl1ne_nova_multiselect_field||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0,r.O(void 0,[153],(()=>r(168)));var o=r.O(void 0,[153],(()=>r(497)));o=r.O(o)})();